"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["7419"],{9555:function(e,n,i){i.r(n),i.d(n,{default:()=>d});var r=i(1549),s=i(6603);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",strong:"strong",h2:"h2",h3:"h3",pre:"pre",code:"code",h4:"h4"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"rendercontext",children:["RenderContext",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rendercontext",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"RenderContext \xe8 la classe principale del framework Gez, responsabile della gestione dell'intero ciclo di vita del rendering lato server (SSR). Fornisce un set completo di API per gestire il contesto di rendering, la gestione delle risorse, la sincronizzazione dello stato e altre attivit\xe0 chiave:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Controllo del rendering"}),": Gestisce il processo di rendering lato server, supportando scenari come il rendering multi-ingresso e il rendering condizionale"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gestione delle risorse"}),": Raccoglie e inietta in modo intelligente risorse statiche come JS, CSS, ottimizzando le prestazioni di caricamento"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sincronizzazione dello stato"}),": Gestisce la serializzazione dello stato lato server, garantendo un'attivazione corretta (hydration) lato client"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Controllo del routing"}),": Supporta funzionalit\xe0 avanzate come reindirizzamenti lato server e impostazione dei codici di stato"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"definizioni-di-tipo",children:["Definizioni di tipo",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#definizioni-di-tipo",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"serverrenderhandle",children:["ServerRenderHandle",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serverrenderhandle",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Definizione del tipo per la funzione di gestione del rendering lato server."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type ServerRenderHandle = (rc: RenderContext) => Promise<void> | void;\n"})}),"\n",(0,r.jsx)(n.p,{children:"La funzione di gestione del rendering lato server \xe8 una funzione asincrona o sincrona che riceve un'istanza di RenderContext come parametro, utilizzata per gestire la logica del rendering lato server."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// 1. Funzione asincrona\nexport default async (rc: RenderContext) => {\n  const app = createApp();\n  const html = await renderToString(app);\n  rc.html = html;\n};\n\n// 2. Funzione sincrona\nexport const simple = (rc: RenderContext) => {\n  rc.html = '<h1>Hello World</h1>';\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"renderfiles",children:["RenderFiles",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#renderfiles",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Definizione del tipo per l'elenco dei file di risorse raccolti durante il processo di rendering."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface RenderFiles {\n  js: string[];\n  css: string[];\n  modulepreload: string[];\n  resources: string[];\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"js"}),": Elenco dei file JavaScript"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"css"}),": Elenco dei file di fogli di stile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"modulepreload"}),": Elenco dei moduli ESM da precaricare"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"resources"}),": Elenco di altre risorse (immagini, font, ecc.)"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Esempio di elenco di file di risorse\nrc.files = {\n  js: [\n    '/assets/entry-client.js',\n    '/assets/vendor.js'\n  ],\n  css: [\n    '/assets/main.css',\n    '/assets/vendor.css'\n  ],\n  modulepreload: [\n    '/assets/Home.js',\n    '/assets/About.js'\n  ],\n  resources: [\n    '/assets/logo.png',\n    '/assets/font.woff2'\n  ]\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"importmapmode",children:["ImportmapMode",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Definisce la modalit\xe0 di generazione dell'importmap."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type ImportmapMode = 'inline' | 'js';\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"inline"}),": Inserisce il contenuto dell'importmap direttamente nell'HTML, adatto per i seguenti scenari:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Riduzione del numero di richieste HTTP"}),"\n",(0,r.jsx)(n.li,{children:"Contenuto dell'importmap di piccole dimensioni"}),"\n",(0,r.jsx)(n.li,{children:"Requisiti di prestazioni di caricamento della prima schermata elevati"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"js"}),": Genera il contenuto dell'importmap come file JS separato, adatto per i seguenti scenari:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Contenuto dell'importmap di grandi dimensioni"}),"\n",(0,r.jsx)(n.li,{children:"Utilizzo del meccanismo di cache del browser"}),"\n",(0,r.jsx)(n.li,{children:"Condivisione dello stesso importmap tra pi\xf9 pagine"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Classe del contesto di rendering, responsabile della gestione delle risorse e della generazione dell'HTML durante il processo di rendering lato server (SSR)."}),"\n",(0,r.jsxs)(n.h2,{id:"opzioni-dellistanza",children:["Opzioni dell'istanza",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#opzioni-dellistanza",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Definisce le opzioni di configurazione del contesto di rendering."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface RenderContextOptions {\n  base?: string\n  entryName?: string\n  params?: Record<string, any>\n  importmapMode?: ImportmapMode\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"base",children:["base",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#base",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Percorso di base per le risorse statiche."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tutte le risorse statiche (JS, CSS, immagini, ecc.) vengono caricate in base a questo percorso"}),"\n",(0,r.jsx)(n.li,{children:"Supporta la configurazione dinamica a runtime, senza necessit\xe0 di ricompilazione"}),"\n",(0,r.jsx)(n.li,{children:"Utilizzato comunemente in scenari come siti multilingua, applicazioni micro-frontend, ecc."}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"entryname",children:["entryName",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entryname",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"'default'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Nome della funzione di ingresso per il rendering lato server. Utilizzato per specificare la funzione di ingresso da utilizzare durante il rendering lato server, quando un modulo esporta pi\xf9 funzioni di rendering."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.server.ts"',children:"export const mobile = async (rc: RenderContext) => {\n  // Logica di rendering per dispositivi mobili\n};\n\nexport const desktop = async (rc: RenderContext) => {\n  // Logica di rendering per desktop\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"params",children:["params",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#params",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"Record<string, any>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Parametri di rendering. \xc8 possibile passare parametri di qualsiasi tipo alla funzione di rendering, comunemente utilizzati per passare informazioni sulla richiesta (URL, parametri query, ecc.)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const rc = await gez.render({\n  params: {\n    url: req.url,\n    lang: 'zh-CN',\n    theme: 'dark'\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"importmapmode-1",children:["importmapMode",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"'inline' | 'js'"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"'inline'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Modalit\xe0 di generazione dell'import map:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"inline"}),": Inserisce il contenuto dell'importmap direttamente nell'HTML"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"js"}),": Genera il contenuto dell'importmap come file JS separato"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"propriet\\xe0-dellistanza",children:["Propriet\xe0 dell'istanza",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#propriet\\xe0-dellistanza",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"gez",children:["gez",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gez",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"Gez"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sola lettura"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Riferimento all'istanza di Gez. Utilizzato per accedere alle funzionalit\xe0 e alle informazioni di configurazione principali del framework."}),"\n",(0,r.jsxs)(n.h3,{id:"redirect",children:["redirect",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#redirect",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string | null"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Indirizzo di reindirizzamento. Se impostato, il server pu\xf2 eseguire un reindirizzamento HTTP in base a questo valore, comunemente utilizzato in scenari come la verifica dell'accesso, il controllo delle autorizzazioni, ecc."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Esempio di verifica dell'accesso\nexport default async (rc: RenderContext) => {\n  if (!isLoggedIn()) {\n    rc.redirect = '/login';\n    rc.status = 302;\n    return;\n  }\n  // Continua il rendering della pagina...\n};\n\n// Esempio di controllo delle autorizzazioni\nexport default async (rc: RenderContext) => {\n  if (!hasPermission()) {\n    rc.redirect = '/403';\n    rc.status = 403;\n    return;\n  }\n  // Continua il rendering della pagina...\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"status",children:["status",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#status",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"number | null"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Codice di stato della risposta HTTP. \xc8 possibile impostare qualsiasi codice di stato HTTP valido, comunemente utilizzato in scenari come la gestione degli errori, i reindirizzamenti, ecc."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Esempio di gestione dell'errore 404\nexport default async (rc: RenderContext) => {\n  const page = await findPage(rc.params.url);\n  if (!page) {\n    rc.status = 404;\n    // Rendering della pagina 404...\n    return;\n  }\n  // Continua il rendering della pagina...\n};\n\n// Esempio di reindirizzamento temporaneo\nexport default async (rc: RenderContext) => {\n  if (needMaintenance()) {\n    rc.redirect = '/maintenance';\n    rc.status = 307; // Reindirizzamento temporaneo, mantiene il metodo della richiesta invariato\n    return;\n  }\n  // Continua il rendering della pagina...\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"html",children:["html",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Contenuto HTML. Utilizzato per impostare e ottenere il contenuto HTML finale generato, gestendo automaticamente i segnaposto del percorso di base durante l'impostazione."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Utilizzo di base\nexport default async (rc: RenderContext) => {\n  // Imposta il contenuto HTML\n  rc.html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        ${rc.preload()}\n        ${rc.css()}\n      </head>\n      <body>\n        <div id=\"app\">Hello World</div>\n        ${rc.importmap()}\n        ${rc.moduleEntry()}\n        ${rc.modulePreload()}\n      </body>\n    </html>\n  `;\n};\n\n// Percorso di base dinamico\nconst rc = await gez.render({\n  base: '/app',  // Imposta il percorso di base\n  params: { url: req.url }\n});\n\n// I segnaposto nell'HTML vengono sostituiti automaticamente:\n// [[[___GEZ_DYNAMIC_BASE___]]]/your-app-name/css/style.css\n// Sostituito con:\n// /app/your-app-name/css/style.css\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"base-1",children:["base",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#base-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sola lettura"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Percorso di base per le risorse statiche. Tutte le risorse statiche (JS, CSS, immagini, ecc.) vengono caricate in base a questo percorso, supportando la configurazione dinamica a runtime."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Utilizzo di base\nconst rc = await gez.render({\n  base: '/gez',  // Imposta il percorso di base\n  params: { url: req.url }\n});\n\n// Esempio di sito multilingua\nconst rc = await gez.render({\n  base: '/cn',  // Sito in cinese\n  params: { lang: 'zh-CN' }\n});\n\n// Esempio di applicazione micro-frontend\nconst rc = await gez.render({\n  base: '/app1',  // Sotto-applicazione 1\n  params: { appId: 1 }\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"entryname-1",children:["entryName",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entryname-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sola lettura"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"'default'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Nome della funzione di ingresso per il rendering lato server. Utilizzato per selezionare la funzione di rendering da utilizzare da entry.server.ts."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Funzione di ingresso predefinita\nexport default async (rc: RenderContext) => {\n  // Logica di rendering predefinita\n};\n\n// Funzioni di ingresso multiple\nexport const mobile = async (rc: RenderContext) => {\n  // Logica di rendering per dispositivi mobili\n};\n\nexport const desktop = async (rc: RenderContext) => {\n  // Logica di rendering per desktop\n};\n\n// Selezione della funzione di ingresso in base al tipo di dispositivo\nconst rc = await gez.render({\n  entryName: isMobile ? 'mobile' : 'desktop',\n  params: { url: req.url }\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"params-1",children:["params",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#params-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"Record<string, any>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sola lettura"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Parametri di rendering. \xc8 possibile passare e accedere ai parametri durante il processo di rendering lato server, comunemente utilizzati per passare informazioni sulla richiesta, configurazioni della pagina, ecc."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Utilizzo di base - Passaggio dell'URL e delle impostazioni della lingua\nconst rc = await gez.render({\n  params: {\n    url: req.url,\n    lang: 'zh-CN'\n  }\n});\n\n// Configurazione della pagina - Impostazione del tema e del layout\nconst rc = await gez.render({\n  params: {\n    theme: 'dark',\n    layout: 'sidebar'\n  }\n});\n\n// Configurazione dell'ambiente - Iniezione dell'indirizzo API\nconst rc = await gez.render({\n  params: {\n    apiBaseUrl: process.env.API_BASE_URL,\n    version: '1.0.0'\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"importmetaset",children:["importMetaSet",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmetaset",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"Set<ImportMeta>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Insieme di raccolta delle dipendenze dei moduli. Durante il rendering dei componenti, traccia e registra automaticamente le dipendenze dei moduli, raccogliendo solo le risorse effettivamente utilizzate durante il rendering della pagina corrente."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Utilizzo di base\nconst renderToString = (app: any, context: { importMetaSet: Set<ImportMeta> }) => {\n  // Durante il rendering, raccoglie automaticamente le dipendenze dei moduli\n  // Il framework chiama automaticamente context.importMetaSet.add(import.meta) durante il rendering dei componenti\n  // Gli sviluppatori non devono gestire manualmente la raccolta delle dipendenze\n  return '<div id=\"app\">Hello World</div>';\n};\n\n// Esempio di utilizzo\nconst app = createApp();\nconst html = await renderToString(app, {\n  importMetaSet: rc.importMetaSet\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"files",children:["files",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#files",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"RenderFiles"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Elenco dei file di risorse:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"js: Elenco dei file JavaScript"}),"\n",(0,r.jsx)(n.li,{children:"css: Elenco dei file di fogli di stile"}),"\n",(0,r.jsx)(n.li,{children:"modulepreload: Elenco dei moduli ESM da precaricare"}),"\n",(0,r.jsx)(n.li,{children:"resources: Elenco di altre risorse (immagini, font, ecc.)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Raccolta delle risorse\nawait rc.commit();\n\n// Iniezione delle risorse\nrc.html = `\n  <!DOCTYPE html>\n  <html>\n  <head>\n    \x3c!-- Precarga delle risorse --\x3e\n    ${rc.preload()}\n    \x3c!-- Iniezione dei fogli di stile --\x3e\n    ${rc.css()}\n  </head>\n  <body>\n    ${html}\n    ${rc.importmap()}\n    ${rc.moduleEntry()}\n    ${rc.modulePreload()}\n  </body>\n  </html>\n`;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"importmapmode-2",children:["importmapMode",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tipo"}),": ",(0,r.jsx)(n.code,{children:"'inline' | 'js'"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore predefinito"}),": ",(0,r.jsx)(n.code,{children:"'inline'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Modalit\xe0 di generazione dell'import map:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"inline"}),": Inserisce il contenuto dell'importmap direttamente nell'HTML"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"js"}),": Genera il contenuto dell'importmap come file JS separato"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"metodi-dellistanza",children:["Metodi dell'istanza",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#metodi-dellistanza",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"serialize",children:["serialize()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serialize",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parametri"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"input: any"})," - Dati da serializzare"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"options?: serialize.SerializeJSOptions"})," - Opzioni di serializzazione"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Serializza un oggetto JavaScript in una stringa. Utilizzato durante il processo di rendering lato server per serializzare i dati di stato, garantendo che i dati possano essere incorporati in modo sicuro nell'HTML."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const state = {\n  user: { id: 1, name: 'Alice' },\n  timestamp: new Date()\n};\n\nrc.html = `\n  <script>\n    window.__INITIAL_STATE__ = ${rc.serialize(state)};\n  <\/script>\n`;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"state",children:["state()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#state",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parametri"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"varName: string"})," - Nome della variabile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data: Record<string, any>"})," - Dati di stato"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Serializza i dati di stato e li inietta nell'HTML. Utilizza un metodo di serializzazione sicuro per gestire i dati, supportando strutture dati complesse."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const userInfo = {\n  id: 1,\n  name: 'John',\n  roles: ['admin']\n};\n\nrc.html = `\n  <head>\n    ${rc.state('__USER__', userInfo)}\n  </head>\n`;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"commit",children:["commit()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commit",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Conferma la raccolta delle dipendenze e aggiorna l'elenco delle risorse. Raccoglie tutti i moduli utilizzati da importMetaSet, analizzando le risorse specifiche di ciascun modulo in base al file manifest."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// Rendering e conferma delle dipendenze\nconst html = await renderToString(app, {\n  importMetaSet: rc.importMetaSet\n});\n\n// Conferma della raccolta delle dipendenze\nawait rc.commit();\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"preload",children:["preload()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#preload",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Genera i tag di precaricamento delle risorse. Utilizzato per precaricare risorse CSS e JavaScript, supportando la configurazione della priorit\xe0 e gestendo automaticamente il percorso di base."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"rc.html = `\n  <!DOCTYPE html>\n  <html>\n  <head>\n    ${rc.preload()}\n    ${rc.css()}  \x3c!-- Iniezione dei fogli di stile --\x3e\n  </head>\n  <body>\n    ${html}\n    ${rc.importmap()}\n    ${rc.moduleEntry()}\n    ${rc.modulePreload()}\n  </body>\n  </html>\n`;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"css",children:["css()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Genera i tag dei fogli di stile CSS. Inietta i file CSS raccolti, garantendo che i fogli di stile vengano caricati nell'ordine corretto."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"rc.html = `\n  <head>\n    ${rc.css()}  \x3c!-- Iniezione di tutti i fogli di stile raccolti --\x3e\n  </head>\n`;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"importmap",children:["importmap()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmap",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Valore di ritorno"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Gener"})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}let d=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["it%2Fapi%2Fcore%2Frender-context.md"]={toc:[{text:"Definizioni di tipo",id:"definizioni-di-tipo",depth:2},{text:"ServerRenderHandle",id:"serverrenderhandle",depth:3},{text:"RenderFiles",id:"renderfiles",depth:3},{text:"ImportmapMode",id:"importmapmode",depth:3},{text:"Opzioni dell'istanza",id:"opzioni-dellistanza",depth:2},{text:"base",id:"base",depth:4},{text:"entryName",id:"entryname",depth:4},{text:"params",id:"params",depth:4},{text:"importmapMode",id:"importmapmode-1",depth:4},{text:"Propriet\xe0 dell'istanza",id:"propriet\xe0-dellistanza",depth:2},{text:"gez",id:"gez",depth:3},{text:"redirect",id:"redirect",depth:3},{text:"status",id:"status",depth:3},{text:"html",id:"html",depth:3},{text:"base",id:"base-1",depth:3},{text:"entryName",id:"entryname-1",depth:3},{text:"params",id:"params-1",depth:3},{text:"importMetaSet",id:"importmetaset",depth:3},{text:"files",id:"files",depth:3},{text:"importmapMode",id:"importmapmode-2",depth:3},{text:"Metodi dell'istanza",id:"metodi-dellistanza",depth:2},{text:"serialize()",id:"serialize",depth:3},{text:"state()",id:"state",depth:3},{text:"commit()",id:"commit",depth:3},{text:"preload()",id:"preload",depth:3},{text:"css()",id:"css",depth:3},{text:"importmap()",id:"importmap",depth:3}],title:"RenderContext",headingTitle:"RenderContext",frontmatter:{titleSuffix:"Riferimento API del contesto di rendering del framework Gez",description:"Descrizione dettagliata della classe principale RenderContext del framework Gez, inclusi il controllo del rendering, la gestione delle risorse, la sincronizzazione dello stato e il controllo del routing, per aiutare gli sviluppatori a implementare il rendering lato server in modo efficiente.",head:[["meta",{property:"keywords",content:"Gez, RenderContext, SSR, rendering lato server, contesto di rendering, sincronizzazione dello stato, gestione delle risorse, framework per applicazioni web"}]]}}}}]);