"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["1282"],{4274:function(e,n,r){r.r(n),r.d(n,{default:()=>o});var s=r(1549),i=r(6603);function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",h4:"h4"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"moduleconfig",children:["ModuleConfig",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#moduleconfig",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"ModuleConfig fournit les fonctionnalit\xe9s de configuration des modules du framework Gez, permettant de d\xe9finir les r\xe8gles d'import/export de modules, la configuration des alias et les d\xe9pendances externes."}),"\n",(0,s.jsxs)(n.h2,{id:"d\\xe9finitions-de-types",children:["D\xe9finitions de types",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#d\\xe9finitions-de-types",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"pathtype",children:["PathType",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pathtype",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"D\xe9finition de type"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"enum PathType {\n  npm = 'npm:', \n  root = 'root:'\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\xc9num\xe9ration des types de chemins de modules :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"npm"}),": repr\xe9sente les d\xe9pendances dans node_modules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"root"}),": repr\xe9sente les fichiers dans le r\xe9pertoire racine du projet"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"moduleconfig-1",children:["ModuleConfig",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#moduleconfig-1",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"D\xe9finition de type"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface ModuleConfig {\n  exports?: string[]\n  imports?: Record<string, string>\n  externals?: Record<string, string>\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Interface de configuration des modules, utilis\xe9e pour d\xe9finir les configurations d'export, d'import et de d\xe9pendances externes d'un service."}),"\n",(0,s.jsxs)(n.h4,{id:"exports",children:["exports",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#exports",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Liste de configuration des exports, exposant des unit\xe9s de code sp\xe9cifiques (composants, fonctions utilitaires, etc.) du service au format ESM."}),"\n",(0,s.jsx)(n.p,{children:"Supporte deux types :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"root:*"}),": exporte les fichiers sources, par exemple : 'root:src/components/button.vue'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"npm:*"}),": exporte des d\xe9pendances tierces, par exemple : 'npm:vue'"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"imports",children:["imports",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#imports",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Mappage de configuration des imports, configurant les modules distants \xe0 importer et leurs chemins locaux."}),"\n",(0,s.jsx)(n.p,{children:"La configuration varie selon le mode d'installation :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Installation depuis les sources (Workspace, Git) : doit pointer vers le r\xe9pertoire dist"}),"\n",(0,s.jsx)(n.li,{children:"Installation depuis un package (Link, serveur statique, miroir priv\xe9, File) : pointe directement vers le r\xe9pertoire du package"}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"externals",children:["externals",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#externals",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Mappage des d\xe9pendances externes, configurant les d\xe9pendances externes \xe0 utiliser, g\xe9n\xe9ralement des d\xe9pendances provenant de modules distants."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Exemple"})," :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n  modules: {\n    // Configuration des exports\n    exports: [\n      'root:src/components/button.vue',  // Exporte un fichier source\n      'root:src/utils/format.ts',\n      'npm:vue',  // Exporte une d\xe9pendance tierce\n      'npm:vue-router'\n    ],\n\n    // Configuration des imports\n    imports: {\n      // Installation depuis les sources : doit pointer vers le r\xe9pertoire dist\n      'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n      // Installation depuis un package : pointe directement vers le r\xe9pertoire du package\n      'other-remote': 'root:./node_modules/other-remote'\n    },\n\n    // Configuration des d\xe9pendances externes\n    externals: {\n      'vue': 'ssr-remote/npm/vue',\n      'vue-router': 'ssr-remote/npm/vue-router'\n    }\n  }\n} satisfies GezOptions;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"parsedmoduleconfig",children:["ParsedModuleConfig",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parsedmoduleconfig",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"D\xe9finition de type"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface ParsedModuleConfig {\n  name: string\n  root: string\n  exports: {\n    name: string\n    type: PathType\n    importName: string\n    exportName: string\n    exportPath: string\n    externalName: string\n  }[]\n  imports: {\n    name: string\n    localPath: string\n  }[]\n  externals: Record<string, { match: RegExp; import?: string }>\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Configuration des modules apr\xe8s analyse, convertissant la configuration originale des modules en un format interne standardis\xe9 :"}),"\n",(0,s.jsxs)(n.h4,{id:"name",children:["name",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#name",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Nom du service actuel"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Utilis\xe9 pour identifier le module et g\xe9n\xe9rer les chemins d'import"}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"root",children:["root",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Chemin du r\xe9pertoire racine du service actuel"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Utilis\xe9 pour r\xe9soudre les chemins relatifs et stocker les artefacts de construction"}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"exports-1",children:["exports",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#exports-1",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Liste de configuration des exports"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": chemin d'export original, par exemple : 'npm:vue' ou 'root:src/components'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"}),": type de chemin (npm ou root)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"importName"}),": nom d'import, format : '${serviceName}/${type}/${path}'"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exportName"}),": chemin d'export, relatif au r\xe9pertoire racine du service"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exportPath"}),": chemin r\xe9el du fichier"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"externalName"}),": nom de la d\xe9pendance externe, utilis\xe9 comme identifiant lors de l'import de ce module par d'autres services"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"imports-1",children:["imports",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#imports-1",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Liste de configuration des imports"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": nom du service externe"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"localPath"}),": chemin de stockage local, utilis\xe9 pour stocker les artefacts de construction des modules externes"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"externals-1",children:["externals",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#externals-1",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Mappage des d\xe9pendances externes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Mappe les chemins d'import des modules vers leurs emplacements r\xe9els"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"match"}),": expression r\xe9guli\xe8re utilis\xe9e pour correspondre aux instructions d'import"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"import"}),": chemin r\xe9el du module"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\n"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}let o=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["fr%2Fapi%2Fcore%2Fmodule-config.md"]={toc:[{text:"D\xe9finitions de types",id:"d\xe9finitions-de-types",depth:2},{text:"PathType",id:"pathtype",depth:3},{text:"ModuleConfig",id:"moduleconfig-1",depth:3},{text:"exports",id:"exports",depth:4},{text:"imports",id:"imports",depth:4},{text:"externals",id:"externals",depth:4},{text:"ParsedModuleConfig",id:"parsedmoduleconfig",depth:3},{text:"name",id:"name",depth:4},{text:"root",id:"root",depth:4},{text:"exports",id:"exports-1",depth:4},{text:"imports",id:"imports-1",depth:4},{text:"externals",id:"externals-1",depth:4}],title:"ModuleConfig",headingTitle:"ModuleConfig",frontmatter:{titleSuffix:"R\xe9f\xe9rence de l'API de configuration des modules du framework Gez",description:"Documentation d\xe9taill\xe9e de l'interface de configuration ModuleConfig du framework Gez, incluant les r\xe8gles d'import/export de modules, la configuration des alias et la gestion des d\xe9pendances externes, pour aider les d\xe9veloppeurs \xe0 comprendre en profondeur le syst\xe8me de modularit\xe9 du framework.",head:[["meta",{property:"keywords",content:"Gez, ModuleConfig, configuration de modules, import/export de modules, d\xe9pendances externes, configuration d'alias, gestion des d\xe9pendances, framework d'application Web"}]]}}}}]);