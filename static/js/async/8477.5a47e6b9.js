"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["8477"],{7253:function(e,n,a){a.r(n),a.d(n,{default:()=>c});var i=a(1549),r=a(6603);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",strong:"strong",h2:"h2",pre:"pre",h3:"h3",h4:"h4"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"packconfig",children:["PackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"PackConfig"})," es una interfaz de configuraci\xf3n para empaquetar paquetes, utilizada para empaquetar los artefactos de construcci\xf3n de un servicio en un paquete est\xe1ndar npm en formato .tgz."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Estandarizaci\xf3n"}),": Utiliza el formato de empaquetado .tgz est\xe1ndar de npm"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Integridad"}),": Incluye todos los archivos necesarios como c\xf3digo fuente, declaraciones de tipos y archivos de configuraci\xf3n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Compatibilidad"}),": Totalmente compatible con el ecosistema de npm, soporta flujos de trabajo est\xe1ndar de gesti\xf3n de paquetes"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"definici\\xf3n-de-tipos",children:["Definici\xf3n de tipos",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#definici\\xf3n-de-tipos",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface PackConfig {\n    enable?: boolean;\n    outputs?: string | string[] | boolean;\n    packageJson?: (gez: Gez, pkg: Record<string, any>) => Promise<Record<string, any>>;\n    onBefore?: (gez: Gez, pkg: Record<string, any>) => Promise<void>;\n    onAfter?: (gez: Gez, pkg: Record<string, any>, file: Buffer) => Promise<void>;\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"packconfig-1",children:["PackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig-1",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"enable",children:["enable",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Habilita o deshabilita la funci\xf3n de empaquetado. Cuando est\xe1 habilitado, los artefactos de construcci\xf3n se empaquetan en un paquete npm est\xe1ndar en formato .tgz."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Tipo: ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:["Valor por defecto: ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"outputs",children:["outputs",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputs",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Especifica la ruta de salida del archivo del paquete. Soporta las siguientes configuraciones:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string"}),": Una \xfanica ruta de salida, por ejemplo 'dist/versions/my-app.tgz'"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string[]"}),": M\xfaltiples rutas de salida, para generar varias versiones simult\xe1neamente"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"boolean"}),": Cuando es true, utiliza la ruta por defecto 'dist/client/versions/latest.tgz'"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"packagejson",children:["packageJson",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packagejson",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Funci\xf3n de callback para personalizar el contenido de package.json. Se llama antes del empaquetado para personalizar el contenido de package.json."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Par\xe1metros:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gez: Gez"})," - Instancia de Gez"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pkg: any"})," - Contenido original de package.json"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Valor de retorno: ",(0,i.jsx)(n.code,{children:"Promise<any>"})," - Contenido modificado de package.json"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Usos comunes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Modificar el nombre y la versi\xf3n del paquete"}),"\n",(0,i.jsx)(n.li,{children:"Agregar o actualizar dependencias"}),"\n",(0,i.jsx)(n.li,{children:"Agregar campos personalizados"}),"\n",(0,i.jsx)(n.li,{children:"Configurar informaci\xf3n de publicaci\xf3n"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"packageJson: async (gez, pkg) => {\n  // Configurar informaci\xf3n del paquete\n  pkg.name = 'my-app';\n  pkg.version = '1.0.0';\n  pkg.description = 'Mi aplicaci\xf3n';\n\n  // Agregar dependencias\n  pkg.dependencies = {\n    'vue': '^3.0.0',\n    'express': '^4.17.1'\n  };\n\n  // Agregar configuraci\xf3n de publicaci\xf3n\n  pkg.publishConfig = {\n    registry: 'https://registry.example.com'\n  };\n\n  return pkg;\n}\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"onbefore",children:["onBefore",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbefore",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Funci\xf3n de callback para preparativos antes del empaquetado."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Par\xe1metros:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gez: Gez"})," - Instancia de Gez"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pkg: Record<string, any>"})," - Contenido de package.json"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Valor de retorno: ",(0,i.jsx)(n.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Usos comunes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Agregar archivos adicionales (README, LICENSE, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Ejecutar pruebas o validaciones de construcci\xf3n"}),"\n",(0,i.jsx)(n.li,{children:"Generar documentaci\xf3n o metadatos"}),"\n",(0,i.jsx)(n.li,{children:"Limpiar archivos temporales"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"onBefore: async (gez, pkg) => {\n  // Agregar documentaci\xf3n\n  await fs.writeFile('dist/README.md', '# Mi Aplicaci\xf3n');\n  await fs.writeFile('dist/LICENSE', 'Licencia MIT');\n\n  // Ejecutar pruebas\n  await runTests();\n\n  // Generar documentaci\xf3n\n  await generateDocs();\n\n  // Limpiar archivos temporales\n  await cleanupTempFiles();\n}\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"onafter",children:["onAfter",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onafter",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Funci\xf3n de callback para procesamiento posterior al empaquetado. Se llama despu\xe9s de generar el archivo .tgz, para manejar los artefactos empaquetados."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Par\xe1metros:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gez: Gez"})," - Instancia de Gez"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pkg: Record<string, any>"})," - Contenido de package.json"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"file: Buffer"})," - Contenido del archivo empaquetado"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Valor de retorno: ",(0,i.jsx)(n.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Usos comunes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Publicar en un repositorio npm (p\xfablico o privado)"}),"\n",(0,i.jsx)(n.li,{children:"Subir a un servidor de recursos est\xe1ticos"}),"\n",(0,i.jsx)(n.li,{children:"Gestionar versiones"}),"\n",(0,i.jsx)(n.li,{children:"Activar flujos de CI/CD"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"onAfter: async (gez, pkg, file) => {\n  // Publicar en un repositorio npm privado\n  await publishToRegistry(file, {\n    registry: 'https://registry.example.com'\n  });\n\n  // Subir a un servidor de recursos est\xe1ticos\n  await uploadToServer(file, 'https://assets.example.com/packages');\n\n  // Crear etiqueta de versi\xf3n en Git\n  await createGitTag(pkg.version);\n\n  // Activar proceso de despliegue\n  await triggerDeploy(pkg.version);\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"ejemplo-de-uso",children:["Ejemplo de uso",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ejemplo-de-uso",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n  modules: {\n    // Configurar m\xf3dulos a exportar\n    exports: [\n      'root:src/components/button.vue',\n      'root:src/utils/format.ts',\n      'npm:vue',\n      'npm:vue-router'\n    ]\n  },\n  // Configuraci\xf3n de empaquetado\n  pack: {\n    // Habilitar funci\xf3n de empaquetado\n    enable: true,\n\n    // Generar m\xfaltiples versiones simult\xe1neamente\n    outputs: [\n      'dist/versions/latest.tgz',\n      'dist/versions/1.0.0.tgz'\n    ],\n\n    // Personalizar package.json\n    packageJson: async (gez, pkg) => {\n      pkg.version = '1.0.0';\n      return pkg;\n    },\n\n    // Preparativos antes del empaquetado\n    onBefore: async (gez, pkg) => {\n      // Agregar archivos necesarios\n      await fs.writeFile('dist/README.md', '# Tu Aplicaci\xf3n\\n\\nExplicaci\xf3n de los m\xf3dulos exportados...');\n      // Ejecutar verificaci\xf3n de tipos\n      await runTypeCheck();\n    },\n\n    // Procesamiento posterior al empaquetado\n    onAfter: async (gez, pkg, file) => {\n      // Publicar en un repositorio npm privado\n      await publishToRegistry(file, {\n        registry: 'https://npm.your-registry.com/'\n      });\n      // O desplegar en un servidor est\xe1tico\n      await uploadToServer(file, 'https://static.example.com/packages');\n    }\n  }\n} satisfies GezOptions;\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}let c=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["es%2Fapi%2Fcore%2Fpack-config.md"]={toc:[{text:"Definici\xf3n de tipos",id:"definici\xf3n-de-tipos",depth:2},{text:"PackConfig",id:"packconfig-1",depth:3},{text:"enable",id:"enable",depth:4},{text:"outputs",id:"outputs",depth:4},{text:"packageJson",id:"packagejson",depth:4},{text:"onBefore",id:"onbefore",depth:4},{text:"onAfter",id:"onafter",depth:4},{text:"Ejemplo de uso",id:"ejemplo-de-uso",depth:2}],title:"PackConfig",headingTitle:"PackConfig",frontmatter:{titleSuffix:"Referencia de API de configuraci\xf3n de empaquetado del framework Gez",description:"Documentaci\xf3n detallada de la interfaz de configuraci\xf3n PackConfig del framework Gez, incluyendo reglas de empaquetado de paquetes, configuraci\xf3n de salida y hooks del ciclo de vida, para ayudar a los desarrolladores a implementar flujos de construcci\xf3n estandarizados.",head:[["meta",{property:"keywords",content:"Gez, PackConfig, empaquetado de paquetes, configuraci\xf3n de construcci\xf3n, hooks del ciclo de vida, configuraci\xf3n de empaquetado, framework de aplicaciones web"}]]}}}}]);