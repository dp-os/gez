"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["4118"],{7064:function(e,n,s){s.r(n),s.d(n,{default:()=>h});var r=s(1549),i=s(6603);function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",strong:"strong",h3:"h3",ol:"ol",code:"code",pre:"pre",div:"div"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"rspack",children:["Rspack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Gez 基于 ",(0,r.jsx)(n.a,{href:"https://rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," 构建系统实现，充分利用了 Rspack 的高性能构建能力。本文档将介绍 Rspack 在 Gez 框架中的定位和核心功能。"]}),"\n",(0,r.jsxs)(n.h2,{id:"特性",children:["特性",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#特性",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Rspack 是 Gez 框架的核心构建系统，它提供了以下关键特性："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"高性能构建"}),"：基于 Rust 实现的构建引擎，提供极速的编译性能，显著提升大型项目的构建速度"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"开发体验优化"}),"：支持热更新（HMR）、增量编译等现代开发特性，提供流畅的开发体验"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"多环境构建"}),"：统一的构建配置支持客户端（client）、服务端（server）和 Node.js（node）环境，简化多端开发流程"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"资源优化"}),"：内置的资源处理和优化能力，支持代码分割、Tree Shaking、资源压缩等特性"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"构建应用",children:["构建应用",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建应用",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Gez 的 Rspack 构建系统采用模块化设计，主要包含以下核心模块："}),"\n",(0,r.jsxs)(n.h3,{id:"gezrspack",children:["@gez/rspack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gezrspack",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"基础构建模块，提供以下核心能力："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"统一构建配置"}),"：提供标准化的构建配置管理，支持多环境配置"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"资源处理"}),"：内置对 TypeScript、CSS、图片等资源的处理能力"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"构建优化"}),"：提供代码分割、Tree Shaking 等性能优化特性"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"开发服务器"}),"：集成高性能的开发服务器，支持 HMR"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"gezrspack-vue",children:["@gez/rspack-vue",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gezrspack-vue",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Vue 框架专用构建模块，提供："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vue 组件编译"}),"：支持 Vue 2/3 组件的高效编译"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSR 优化"}),"：针对服务端渲染场景的特定优化"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"开发增强"}),"：Vue 开发环境的特定功能增强"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"构建流程",children:["构建流程",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建流程",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Gez 的构建流程主要分为以下几个阶段："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"配置初始化"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"加载项目配置"}),"\n",(0,r.jsx)(n.li,{children:"合并默认配置和用户配置"}),"\n",(0,r.jsx)(n.li,{children:"根据环境变量调整配置"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"资源编译"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"解析源代码依赖"}),"\n",(0,r.jsx)(n.li,{children:"转换各类资源（TypeScript、CSS 等）"}),"\n",(0,r.jsx)(n.li,{children:"处理模块导入导出"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"优化处理"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"执行代码分割"}),"\n",(0,r.jsx)(n.li,{children:"应用 Tree Shaking"}),"\n",(0,r.jsx)(n.li,{children:"压缩代码和资源"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"输出生成"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"生成目标文件"}),"\n",(0,r.jsx)(n.li,{children:"输出资源映射"}),"\n",(0,r.jsx)(n.li,{children:"生成构建报告"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"最佳实践",children:["最佳实践",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#最佳实践",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"开发环境优化",children:["开发环境优化",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发环境优化",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"增量编译配置"}),"：合理配置 ",(0,r.jsx)(n.code,{children:"cache"})," 选项，利用缓存加快构建速度"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HMR 优化"}),"：针对性配置热更新范围，避免不必要的模块更新"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"资源处理优化"}),"：使用适当的 loader 配置，避免重复处理"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"生产环境优化",children:["生产环境优化",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生产环境优化",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"代码分割策略"}),"：合理配置 ",(0,r.jsx)(n.code,{children:"splitChunks"}),"，优化资源加载"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"资源压缩"}),"：启用适当的压缩配置，平衡构建时间和产物大小"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"缓存优化"}),"：利用内容哈希和长期缓存策略，提升加载性能"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"配置示例",children:["配置示例",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置示例",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    async devApp(gez) {\n        return import('@gez/rspack').then((m) =>\n            m.createRspackHtmlApp(gez, {\n                // 自定义构建配置\n                config({ config }) {\n                    // 在此处添加自定义的 Rspack 配置\n                }\n            })\n        );\n    },\n} satisfies GezOptions;\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["更多详细的 API 说明和配置选项，请参考 ",(0,r.jsx)(n.a,{href:"/api/app/rspack.html",children:"Rspack API 文档"}),"。\n"]})})]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}let h=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["zh%2Fguide%2Fessentials%2Frspack.md"]={toc:[{text:"特性",id:"特性",depth:2},{text:"构建应用",id:"构建应用",depth:2},{text:"@gez/rspack",id:"gezrspack",depth:3},{text:"@gez/rspack-vue",id:"gezrspack-vue",depth:3},{text:"构建流程",id:"构建流程",depth:2},{text:"最佳实践",id:"最佳实践",depth:2},{text:"开发环境优化",id:"开发环境优化",depth:3},{text:"生产环境优化",id:"生产环境优化",depth:3},{text:"配置示例",id:"配置示例",depth:2}],title:"Rspack",headingTitle:"Rspack",frontmatter:{titleSuffix:"Gez 框架高性能构建引擎",description:"深入解析 Gez 框架的 Rspack 构建系统，包括高性能编译、多环境构建、资源优化等核心特性，助力开发者构建高效、可靠的现代 Web 应用。",head:[["meta",{property:"keywords",content:"Gez, Rspack, 构建系统, 高性能编译, 热更新, 多环境构建, Tree Shaking, 代码分割, SSR, 资源优化, 开发效率, 构建工具"}]]}}}}]);