"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["6357"],{1030:function(e,n,s){s.r(n),s.d(n,{default:()=>c});var r=s(1549),i=s(6603);function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",h4:"h4",ol:"ol",div:"div"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"gez",children:["Gez",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gez",children:"#"})]}),"\n",(0,r.jsxs)(n.h2,{id:"簡介",children:["簡介",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#簡介",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Gez 是一個基於 Rspack 的高效能 Web 應用框架，提供了完整的應用生命週期管理、靜態資源處理和伺服器端渲染能力。"}),"\n",(0,r.jsxs)(n.h2,{id:"類型定義",children:["類型定義",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#類型定義",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"runtimetarget",children:["RuntimeTarget",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#runtimetarget",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型定義"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type RuntimeTarget = 'client' | 'server'\n"})}),"\n",(0,r.jsx)(n.p,{children:"應用程式執行環境類型："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"client"}),": 執行在瀏覽器環境，支援 DOM 操作和瀏覽器 API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"server"}),": 執行在 Node.js 環境，支援檔案系統和伺服器端功能"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"importmap",children:["ImportMap",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmap",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型定義"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type ImportMap = {\n  imports?: SpecifierMap\n  scopes?: ScopesMap\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"ES 模組匯入映射類型。"}),"\n",(0,r.jsxs)(n.h4,{id:"specifiermap",children:["SpecifierMap",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#specifiermap",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型定義"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type SpecifierMap = Record<string, string>\n"})}),"\n",(0,r.jsx)(n.p,{children:"模組識別符映射類型，用於定義模組匯入路徑的映射關係。"}),"\n",(0,r.jsxs)(n.h4,{id:"scopesmap",children:["ScopesMap",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#scopesmap",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型定義"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type ScopesMap = Record<string, SpecifierMap>\n"})}),"\n",(0,r.jsx)(n.p,{children:"作用域映射類型，用於定義特定作用域下的模組匯入映射關係。"}),"\n",(0,r.jsxs)(n.h3,{id:"command",children:["COMMAND",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#command",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型定義"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"enum COMMAND {\n    dev = 'dev',\n    build = 'build',\n    preview = 'preview',\n    start = 'start'\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"命令類型列舉："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dev"}),": 開發環境命令，啟動開發伺服器並支援熱更新"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"build"}),": 建置命令，生成生產環境的建置產物"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"preview"}),": 預覽命令，啟動本地預覽伺服器"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"start"}),": 啟動命令，執行生產環境伺服器"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"實例選項",children:["實例選項",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#實例選項",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"定義 Gez 框架的核心配置選項。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface GezOptions {\n  root?: string\n  isProd?: boolean\n  basePathPlaceholder?: string | false\n  modules?: ModuleConfig\n  packs?: PackConfig\n  devApp?: (gez: Gez) => Promise<App>\n  server?: (gez: Gez) => Promise<void>\n  postBuild?: (gez: Gez) => Promise<void>\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"root",children:["root",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"預設值"}),": ",(0,r.jsx)(n.code,{children:"process.cwd()"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"專案根目錄路徑。可以是絕對路徑或相對路徑，相對路徑基於目前工作目錄解析。"}),"\n",(0,r.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"預設值"}),": ",(0,r.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"環境標識。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"true"}),": 生產環境"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"false"}),": 開發環境"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"basepathplaceholder",children:["basePathPlaceholder",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepathplaceholder",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string | false"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"預設值"}),": ",(0,r.jsx)(n.code,{children:"'[[[___GEZ_DYNAMIC_BASE___]]]'"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["基礎路徑佔位符配置。用於執行時動態替換資源的基礎路徑。設定為 ",(0,r.jsx)(n.code,{children:"false"})," 可以停用此功能。"]}),"\n",(0,r.jsxs)(n.h4,{id:"modules",children:["modules",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modules",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"ModuleConfig"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"模組配置選項。用於配置專案的模組解析規則，包括模組別名、外部依賴等配置。"}),"\n",(0,r.jsxs)(n.h4,{id:"packs",children:["packs",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packs",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"PackConfig"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"打包配置選項。用於將建置產物打包成標準的 npm .tgz 格式軟體包。"}),"\n",(0,r.jsxs)(n.h4,{id:"devapp",children:["devApp",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devapp",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"(gez: Gez) => Promise<App>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"開發環境應用建立函式。僅在開發環境中使用，用於建立開發伺服器的應用實例。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async devApp(gez) {\n    return import('@gez/rspack').then((m) =>\n      m.createRspackHtmlApp(gez, {\n        config(context) {\n          // 自訂 Rspack 配置\n        }\n      })\n    )\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"server",children:["server",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#server",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"(gez: Gez) => Promise<void>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"伺服器啟動配置函式。用於配置和啟動 HTTP 伺服器，在開發環境和生產環境中都可使用。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async server(gez) {\n    const server = http.createServer((req, res) => {\n      gez.middleware(req, res, async () => {\n        const render = await gez.render({\n          params: { url: req.url }\n        });\n        res.end(render.html);\n      });\n    });\n\n    server.listen(3000);\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"postbuild",children:["postBuild",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#postbuild",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"(gez: Gez) => Promise<void>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"建置後置處理函式。在專案建置完成後執行，可用於："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"執行額外的資源處理"}),"\n",(0,r.jsx)(n.li,{children:"部署操作"}),"\n",(0,r.jsx)(n.li,{children:"生成靜態檔案"}),"\n",(0,r.jsx)(n.li,{children:"傳送建置通知"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"實例屬性",children:["實例屬性",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#實例屬性",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"name",children:["name",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#name",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"目前模組的名稱，來源於模組配置。"}),"\n",(0,r.jsxs)(n.h3,{id:"varname",children:["varName",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#varname",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"基於模組名生成的合法 JavaScript 變數名。"}),"\n",(0,r.jsxs)(n.h3,{id:"root-1",children:["root",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["專案根目錄的絕對路徑。如果配置的 ",(0,r.jsx)(n.code,{children:"root"})," 為相對路徑，則基於目前工作目錄解析。"]}),"\n",(0,r.jsxs)(n.h3,{id:"isprod-1",children:["isProd",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["判斷目前是否為生產環境。優先使用配置項中的 ",(0,r.jsx)(n.code,{children:"isProd"}),"，若未配置則根據 ",(0,r.jsx)(n.code,{children:"process.env.NODE_ENV"})," 判斷。"]}),"\n",(0,r.jsxs)(n.h3,{id:"basepath",children:["basePath",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepath",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"拋出"}),": ",(0,r.jsx)(n.code,{children:"NotReadyError"})," - 框架未初始化時"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["取得以斜線開頭和結尾的模組基礎路徑。返回格式為 ",(0,r.jsx)(n.code,{children:"/${name}/"}),"，其中 name 來自模組配置。"]}),"\n",(0,r.jsxs)(n.h3,{id:"basepathplaceholder-1",children:["basePathPlaceholder",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepathplaceholder-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得用於執行時動態替換的基礎路徑佔位符。可透過配置停用。"}),"\n",(0,r.jsxs)(n.h3,{id:"middleware",children:["middleware",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#middleware",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"Middleware"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得靜態資源處理中介軟體。根據環境提供不同實作："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"開發環境：支援原始碼即時編譯、熱更新"}),"\n",(0,r.jsx)(n.li,{children:"生產環境：支援靜態資源的長期快取"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const server = http.createServer((req, res) => {\n  gez.middleware(req, res, async () => {\n    const rc = await gez.render({ url: req.url });\n    res.end(rc.html);\n  });\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"render",children:["render",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#render",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"(options?: RenderContextOptions) => Promise<RenderContext>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得伺服器端渲染函式。根據環境提供不同實作："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"開發環境：支援熱更新和即時預覽"}),"\n",(0,r.jsx)(n.li,{children:"生產環境：提供最佳化的渲染效能"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// 基本用法\nconst rc = await gez.render({\n  params: { url: req.url }\n});\n\n// 進階配置\nconst rc = await gez.render({\n  base: '',                    // 基礎路徑\n  importmapMode: 'inline',     // 匯入映射模式\n  entryName: 'default',        // 渲染入口\n  params: {\n    url: req.url,\n    state: { user: 'admin' }   // 狀態資料\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"command-1",children:["COMMAND",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#command-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"typeof COMMAND"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得命令列舉類型定義。"}),"\n",(0,r.jsxs)(n.h3,{id:"moduleconfig",children:["moduleConfig",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#moduleconfig",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"ParsedModuleConfig"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"拋出"}),": ",(0,r.jsx)(n.code,{children:"NotReadyError"})," - 框架未初始化時"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得目前模組的完整配置資訊，包括模組解析規則、別名配置等。"}),"\n",(0,r.jsxs)(n.h3,{id:"packconfig",children:["packConfig",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"類型"}),": ",(0,r.jsx)(n.code,{children:"ParsedPackConfig"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"唯讀"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"拋出"}),": ",(0,r.jsx)(n.code,{children:"NotReadyError"})," - 框架未初始化時"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"取得目前模組的打包相關配置，包括輸出路徑、package.json 處理等。"}),"\n",(0,r.jsxs)(n.h2,{id:"實例方法",children:["實例方法",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#實例方法",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"constructor",children:["constructor()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#constructor",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"options?: GezOptions"})," - 框架配置選項"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Gez"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"建立 Gez 框架實例。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const gez = new Gez({\n  root: './src',\n  isProd: process.env.NODE_ENV === 'production'\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"init",children:["init()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#init",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"參數"}),": ",(0,r.jsx)(n.code,{children:"command: COMMAND"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"拋出"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Error"}),": 重複初始化時"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NotReadyError"}),": 存取未初始化實例時"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"初始化 Gez 框架實例。執行以下核心初始化流程："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"解析專案配置（package.json、模組配置、打包配置等）"}),"\n",(0,r.jsx)(n.li,{children:"建立應用實例（開發環境或生產環境）"}),"\n",(0,r.jsx)(n.li,{children:"根據命令執行相應的生命週期方法"}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"重複初始化時會拋出錯誤"}),"\n",(0,r.jsxs)(n.li,{children:["存取未初始化的實例時會拋出 ",(0,r.jsx)(n.code,{children:"NotReadyError"})]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const gez = new Gez({\n  root: './src',\n  isProd: process.env.NODE_ENV === 'production'\n});\n\nawait gez.init(COMMAND.dev);\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"destroy",children:["destroy()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#destroy",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"銷毀 Gez 框架實例，執行資源清理和連線關閉等操作。主要用於："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"關閉開發伺服器"}),"\n",(0,r.jsx)(n.li,{children:"清理暫存檔案和快取"}),"\n",(0,r.jsx)(n.li,{children:"釋放系統資源"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"process.once('SIGTERM', async () => {\n  await gez.destroy();\n  process.exit(0);\n});\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"build",children:["build()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"執行應用程式的建置流程，包括："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"編譯原始碼"}),"\n",(0,r.jsx)(n.li,{children:"生成生產環境的建置產物"}),"\n",(0,r.jsx)(n.li,{children:"最佳化和壓縮程式碼"}),"\n",(0,r.jsx)(n.li,{children:"生成資源清單"}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["在框架實例未初始化時呼叫會拋出 ",(0,r.jsx)(n.code,{children:"NotReadyError"}),"\n"]})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async postBuild(gez) {\n    await gez.build();\n    // 建置完成後生成靜態 HTML\n    const render = await gez.render({\n      params: { url: '/' }\n    });\n    gez.writeSync(\n      gez.resolvePath('dist/client', 'index.html'),\n      render.html\n    );\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"server-1",children:["server()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#server-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"拋出"}),": ",(0,r.jsx)(n.code,{children:"NotReadyError"})," - 框架未初始化時"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"啟動 HTTP 伺服器和配置伺服器實例。在以下生命週期中被呼叫："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"開發環境（dev）：啟動開發伺服器，提供熱更新"}),"\n",(0,r.jsx)(n.li,{children:"生產環境（start）：啟動生產伺服器，提供生產級效能"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async server(gez) {\n    const server = http.createServer((req, res) => {\n      // 處理靜態資源\n      gez.middleware(req, res, async () => {\n        // 伺服器端渲染\n        const render = await gez.render({\n          params: { url: req.url }\n        });\n        res.end(render.html);\n      });\n    });\n\n    server.listen(3000, () => {\n      console.log('Server running at http://localhost:3000');\n    });\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"postbuild-1",children:["postBuild()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#postbuild-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"執行建置後的處理邏輯，用於："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"生成靜態 HTML 檔案"}),"\n",(0,r.jsx)(n.li,{children:"處理建置產物"}),"\n",(0,r.jsx)(n.li,{children:"執行部署任務"}),"\n",(0,r.jsx)(n.li,{children:"傳送建置通知"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async postBuild(gez) {\n    // 生成多個頁面的靜態 HTML\n    const pages = ['/', '/about', '/404'];\n\n    for (const url of pages) {\n      const render = await gez.render({\n        params: { url }\n      });\n\n      await gez.write(\n        gez.resolvePath('dist/client', url.substring(1), 'index.html'),\n        render.html\n      );\n    }\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"resolvepath",children:["resolvePath",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#resolvepath",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"解析專案路徑，將相對路徑轉換為絕對路徑。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"projectPath: ProjectPath"})," - 專案路徑類型"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"...args: string[]"})," - 路徑片段"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"string"})," - 解析後的絕對路徑"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// 解析靜態資源路徑\nconst htmlPath = gez.resolvePath('dist/client', 'index.html');\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"writesync",children:["writeSync()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#writesync",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"同步寫入檔案內容。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filepath"}),": ",(0,r.jsx)(n.code,{children:"string"})," - 檔案的絕對路徑"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"}),": ",(0,r.jsx)(n.code,{children:"any"})," - 要寫入的資料，可以是字串、Buffer 或物件"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"boolean"})," - 寫入是否成功"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"\nasync postBuild(gez) {\n  const htmlPath = gez.resolvePath('dist/client', 'index.html');\n  const success = await gez.write(htmlPath, '<html>...</html>');\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"readjsonsync",children:["readJsonSync()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#readjsonsync",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"同步讀取並解析 JSON 檔案。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"}),": ",(0,r.jsx)(n.code,{children:"string"})," - JSON 檔案的絕對路徑"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"any"})," - 解析後的 JSON 物件"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"異常"}),": 當檔案不存在或 JSON 格式錯誤時拋出異常"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n  const manifest = gez.readJsonSync(gez.resolvePath('dist/client', 'manifest.json'));\n  // 使用 manifest 物件\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"readjson",children:["readJson()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#readjson",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"非同步讀取並解析 JSON 檔案。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filename"}),": ",(0,r.jsx)(n.code,{children:"string"})," - JSON 檔案的絕對路徑"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<any>"})," - 解析後的 JSON 物件"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"異常"}),": 當檔案不存在或 JSON 格式錯誤時拋出異常"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n  const manifest = await gez.readJson(gez.resolvePath('dist/client', 'manifest.json'));\n  // 使用 manifest 物件\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"getmanifestlist",children:["getManifestList()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getmanifestlist",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"取得建置清單列表。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"target"}),": ",(0,r.jsx)(n.code,{children:"RuntimeTarget"})," - 目標環境類型","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'client'"}),": 客戶端環境"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'server'"}),": 伺服器端環境"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<readonly ManifestJson[]>"})," - 唯讀的建置清單列表"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"異常"}),": 在框架實例未初始化時拋出 ",(0,r.jsx)(n.code,{children:"NotReadyError"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"該方法用於取得指定目標環境的建置清單列表，包含以下功能："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"快取管理"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"使用內部快取機制避免重複載入"}),"\n",(0,r.jsx)(n.li,{children:"返回不可變的清單列表"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"環境適配"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"支援客戶端和伺服器端兩種環境"}),"\n",(0,r.jsx)(n.li,{children:"根據目標環境返回對應的清單資訊"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"模組映射"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"包含模組匯出資訊"}),"\n",(0,r.jsx)(n.li,{children:"記錄資源依賴關係"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n  // 取得客戶端建置清單\n  const manifests = await gez.getManifestList('client');\n\n  // 查找特定模組的建置資訊\n  const appModule = manifests.find(m => m.name === 'my-app');\n  if (appModule) {\n    console.log('App exports:', appModule.exports);\n    console.log('App chunks:', appModule.chunks);\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"getimportmap",children:["getImportMap()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getimportmap",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"取得匯入映射物件。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"target"}),": ",(0,r.jsx)(n.code,{children:"RuntimeTarget"})," - 目標環境類型","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'client'"}),": 生成瀏覽器環境的匯入映射"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'server'"}),": 生成伺服器端環境的匯入映射"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),": ",(0,r.jsx)(n.code,{children:"Promise<Readonly<ImportMap>>"})," - 唯讀的匯入映射物件"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"異常"}),": 在框架實例未初始化時拋出 ",(0,r.jsx)(n.code,{children:"NotReadyError"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"該方法用於生成 ES 模組匯入映射（Import Map），具有以下特點："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"模組解析"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"基於建置清單生成模組映射"}),"\n",(0,r.jsx)(n.li,{children:"支援客戶端和伺服器端兩種環境"}),"\n",(0,r.jsx)(n.li,{children:"自動處理模組路徑解析"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"快取最佳化"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"使用內部快取機制"}),"\n",(0,r.jsx)(n.li,{children:"返回不可變的映射物件"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"路徑處理"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"自動處理模組路徑"}),"\n",(0,r.jsx)(n.li,{children:"支援動態基礎路徑"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"範例"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n  // 取得客戶端匯入映射\n  const importmap = await gez.getImportMap('client');\n\n  // 自訂 HTML 模板\n  const html = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <script type=\"importmap\">\n        ${JSON.stringify(importmap)}\n      <\/script>\n    </head>\n    <body>\n      \x3c!-- 頁面內容 --\x3e\n    </body>\n    </html>\n  `;\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"getimportmapclientinfo",children:["getImportMapClientInfo()",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getimportmapclientinfo",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"取得客戶端匯入映射資訊。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"參數"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mode"}),": ",(0,r.jsx)(n.code,{children:"ImportmapMode"})," - 匯入映射模式","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'inline'"}),": 內嵌模式，返回 HTML script 標籤"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'js'"}),": JS 檔案模式，返回帶有檔案路徑的資訊"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"返回值"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["JS 檔案模式:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"{\n  src: string;      // JS 檔案的 URL\n  filepath: string;  // JS 檔案的本地路徑\n  code: string;      // HTML script 標籤內容\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["內嵌模式:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"{\n  src: null;\n  filepath: null;\n  code:\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh-TW%2Fapi%2Fcore%2Fgez.md"]={toc:[{text:"簡介",id:"簡介",depth:2},{text:"類型定義",id:"類型定義",depth:2},{text:"RuntimeTarget",id:"runtimetarget",depth:3},{text:"ImportMap",id:"importmap",depth:3},{text:"SpecifierMap",id:"specifiermap",depth:4},{text:"ScopesMap",id:"scopesmap",depth:4},{text:"COMMAND",id:"command",depth:3},{text:"實例選項",id:"實例選項",depth:2},{text:"root",id:"root",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"basePathPlaceholder",id:"basepathplaceholder",depth:4},{text:"modules",id:"modules",depth:4},{text:"packs",id:"packs",depth:4},{text:"devApp",id:"devapp",depth:4},{text:"server",id:"server",depth:4},{text:"postBuild",id:"postbuild",depth:4},{text:"實例屬性",id:"實例屬性",depth:2},{text:"name",id:"name",depth:3},{text:"varName",id:"varname",depth:3},{text:"root",id:"root-1",depth:3},{text:"isProd",id:"isprod-1",depth:3},{text:"basePath",id:"basepath",depth:3},{text:"basePathPlaceholder",id:"basepathplaceholder-1",depth:3},{text:"middleware",id:"middleware",depth:3},{text:"render",id:"render",depth:3},{text:"COMMAND",id:"command-1",depth:3},{text:"moduleConfig",id:"moduleconfig",depth:3},{text:"packConfig",id:"packconfig",depth:3},{text:"實例方法",id:"實例方法",depth:2},{text:"constructor()",id:"constructor",depth:3},{text:"init()",id:"init",depth:3},{text:"destroy()",id:"destroy",depth:3},{text:"build()",id:"build",depth:3},{text:"server()",id:"server-1",depth:3},{text:"postBuild()",id:"postbuild-1",depth:3},{text:"resolvePath",id:"resolvepath",depth:3},{text:"writeSync()",id:"writesync",depth:3},{text:"readJsonSync()",id:"readjsonsync",depth:3},{text:"readJson()",id:"readjson",depth:3},{text:"getManifestList()",id:"getmanifestlist",depth:3},{text:"getImportMap()",id:"getimportmap",depth:3},{text:"getImportMapClientInfo()",id:"getimportmapclientinfo",depth:3}],title:"Gez",headingTitle:"Gez",frontmatter:{titleSuffix:"框架核心類 API 參考",description:"詳細介紹 Gez 框架的核心類 API，包括應用生命週期管理、靜態資源處理和伺服器端渲染能力，幫助開發者深入理解框架的核心功能。",head:[["meta",{property:"keywords",content:"Gez, API, 生命週期管理, 靜態資源, 伺服器端渲染, Rspack, Web 應用框架"}]]}}}}]);