"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["9888"],{2308:function(e,n,r){r.r(n),r.d(n,{default:()=>a});var s=r(1549),i=r(6603);function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",strong:"strong",h2:"h2",h3:"h3",pre:"pre",code:"code",h4:"h4"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"rendercontext",children:["RenderContext",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rendercontext",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"RenderContext ist die Kernklasse im Gez-Framework und verantwortlich f\xfcr die Verwaltung des gesamten Lebenszyklus des serverseitigen Renderings (SSR). Sie bietet eine umfassende API zur Handhabung von Rendering-Kontexten, Ressourcenverwaltung, Zustandssynchronisierung und anderen wichtigen Aufgaben:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rendering-Steuerung"}),": Verwaltung des serverseitigen Rendering-Prozesses, Unterst\xfctzung f\xfcr Mehrfach-Eintrags-Rendering, bedingtes Rendering usw."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ressourcenverwaltung"}),": Intelligente Sammlung und Einbindung von statischen Ressourcen wie JS, CSS usw. zur Optimierung der Ladeleistung"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zustandssynchronisierung"}),": Handhabung der serverseitigen Zustandsserialisierung, um eine korrekte Client-Aktivierung (Hydration) sicherzustellen"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Routing-Kontrolle"}),": Unterst\xfctzung f\xfcr serverseitige Umleitungen, Statuscode-Einstellungen und andere erweiterte Funktionen"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"typdefinitionen",children:["Typdefinitionen",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#typdefinitionen",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"serverrenderhandle",children:["ServerRenderHandle",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serverrenderhandle",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Typdefinition f\xfcr die serverseitige Rendering-Handler-Funktion."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"type ServerRenderHandle = (rc: RenderContext) => Promise<void> | void;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Die serverseitige Rendering-Handler-Funktion ist eine asynchrone oder synchrone Funktion, die eine RenderContext-Instanz als Parameter empf\xe4ngt und zur Verarbeitung der serverseitigen Rendering-Logik verwendet wird."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// 1. Asynchrone Handler-Funktion\nexport default async (rc: RenderContext) => {\n  const app = createApp();\n  const html = await renderToString(app);\n  rc.html = html;\n};\n\n// 2. Synchrone Handler-Funktion\nexport const simple = (rc: RenderContext) => {\n  rc.html = '<h1>Hello World</h1>';\n};\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"renderfiles",children:["RenderFiles",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#renderfiles",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Typdefinition f\xfcr die Liste der w\xe4hrend des Renderings gesammelten Ressourcendateien."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface RenderFiles {\n  js: string[];\n  css: string[];\n  modulepreload: string[];\n  resources: string[];\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"js"}),": Liste der JavaScript-Dateien"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"css"}),": Liste der Stylesheet-Dateien"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"modulepreload"}),": Liste der ESM-Module, die vorab geladen werden m\xfcssen"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"resources"}),": Liste anderer Ressourcendateien (Bilder, Schriftarten usw.)"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Beispiel f\xfcr eine Ressourcendateiliste\nrc.files = {\n  js: [\n    '/assets/entry-client.js',\n    '/assets/vendor.js'\n  ],\n  css: [\n    '/assets/main.css',\n    '/assets/vendor.css'\n  ],\n  modulepreload: [\n    '/assets/Home.js',\n    '/assets/About.js'\n  ],\n  resources: [\n    '/assets/logo.png',\n    '/assets/font.woff2'\n  ]\n};\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"importmapmode",children:["ImportmapMode",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Definiert den Generierungsmodus f\xfcr Importmaps."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"type ImportmapMode = 'inline' | 'js';\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"inline"}),": Der Importmap-Inhalt wird direkt in das HTML eingebettet, geeignet f\xfcr folgende Szenarien:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reduzierung der Anzahl der HTTP-Anfragen"}),"\n",(0,s.jsx)(n.li,{children:"Der Importmap-Inhalt ist klein"}),"\n",(0,s.jsx)(n.li,{children:"Hohe Anforderungen an die Ladeleistung der ersten Seite"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"js"}),": Der Importmap-Inhalt wird als separate JS-Datei generiert, geeignet f\xfcr folgende Szenarien:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Der Importmap-Inhalt ist gro\xdf"}),"\n",(0,s.jsx)(n.li,{children:"Nutzung des Browser-Caching-Mechanismus"}),"\n",(0,s.jsx)(n.li,{children:"Mehrere Seiten teilen sich dieselbe Importmap"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Rendering-Kontextklasse, verantwortlich f\xfcr die Ressourcenverwaltung und HTML-Generierung w\xe4hrend des serverseitigen Renderings (SSR)."}),"\n",(0,s.jsxs)(n.h2,{id:"instanzoptionen",children:["Instanzoptionen",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#instanzoptionen",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Definiert die Konfigurationsoptionen f\xfcr den Rendering-Kontext."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface RenderContextOptions {\n  base?: string\n  entryName?: string\n  params?: Record<string, any>\n  importmapMode?: ImportmapMode\n}\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"base",children:["base",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#base",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Der Basispfad f\xfcr statische Ressourcen."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Alle statischen Ressourcen (JS, CSS, Bilder usw.) werden relativ zu diesem Pfad geladen"}),"\n",(0,s.jsx)(n.li,{children:"Unterst\xfctzt dynamische Konfiguration zur Laufzeit, ohne Neubuild erforderlich"}),"\n",(0,s.jsx)(n.li,{children:"H\xe4ufig verwendet in mehrsprachigen Websites, Micro-Frontend-Anwendungen usw."}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"entryname",children:["entryName",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entryname",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"'default'"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Der Name der serverseitigen Rendering-Eintrittsfunktion. Wird verwendet, um die zu verwendende Rendering-Funktion anzugeben, wenn ein Modul mehrere Rendering-Funktionen exportiert."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.server.ts"',children:"export const mobile = async (rc: RenderContext) => {\n  // Rendering-Logik f\xfcr Mobilger\xe4te\n};\n\nexport const desktop = async (rc: RenderContext) => {\n  // Rendering-Logik f\xfcr Desktop-Ger\xe4te\n};\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"params",children:["params",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#params",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"Record<string, any>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Rendering-Parameter. Kann beliebige Parameter an die Rendering-Funktion \xfcbergeben, h\xe4ufig verwendet f\xfcr die \xdcbergabe von Anfrageinformationen (URL, Query-Parameter usw.)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const rc = await gez.render({\n  params: {\n    url: req.url,\n    lang: 'zh-CN',\n    theme: 'dark'\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"importmapmode-1",children:["importmapMode",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode-1",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"'inline' | 'js'"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"'inline'"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Generierungsmodus f\xfcr Import Maps:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"inline"}),": Der Importmap-Inhalt wird direkt in das HTML eingebettet"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"js"}),": Der Importmap-Inhalt wird als separate JS-Datei generiert"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"instanzeigenschaften",children:["Instanzeigenschaften",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#instanzeigenschaften",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"gez",children:["gez",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gez",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"Gez"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nur Lesen"}),": ",(0,s.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Referenz auf die Gez-Instanz. Wird verwendet, um auf Kernfunktionen und Konfigurationsinformationen des Frameworks zuzugreifen."}),"\n",(0,s.jsxs)(n.h3,{id:"redirect",children:["redirect",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#redirect",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string | null"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Umleitungsadresse. Nach der Festlegung kann der Server basierend auf diesem Wert eine HTTP-Umleitung durchf\xfchren, h\xe4ufig verwendet f\xfcr Login-Validierung, Berechtigungskontrolle usw."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Beispiel f\xfcr Login-Validierung\nexport default async (rc: RenderContext) => {\n  if (!isLoggedIn()) {\n    rc.redirect = '/login';\n    rc.status = 302;\n    return;\n  }\n  // Weiteres Rendering der Seite...\n};\n\n// Beispiel f\xfcr Berechtigungskontrolle\nexport default async (rc: RenderContext) => {\n  if (!hasPermission()) {\n    rc.redirect = '/403';\n    rc.status = 403;\n    return;\n  }\n  // Weiteres Rendering der Seite...\n};\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"status",children:["status",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#status",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"number | null"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"null"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"HTTP-Antwortstatuscode. Kann beliebige g\xfcltige HTTP-Statuscodes festlegen, h\xe4ufig verwendet f\xfcr Fehlerbehandlung, Umleitungen usw."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Beispiel f\xfcr 404-Fehlerbehandlung\nexport default async (rc: RenderContext) => {\n  const page = await findPage(rc.params.url);\n  if (!page) {\n    rc.status = 404;\n    // Rendering der 404-Seite...\n    return;\n  }\n  // Weiteres Rendering der Seite...\n};\n\n// Beispiel f\xfcr tempor\xe4re Umleitung\nexport default async (rc: RenderContext) => {\n  if (needMaintenance()) {\n    rc.redirect = '/maintenance';\n    rc.status = 307; // Tempor\xe4re Umleitung, beh\xe4lt die Anfragemethode bei\n    return;\n  }\n  // Weiteres Rendering der Seite...\n};\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"html",children:["html",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"HTML-Inhalt. Wird verwendet, um den final generierten HTML-Inhalt festzulegen und abzurufen, wobei Platzhalter f\xfcr den Basispfad automatisch verarbeitet werden."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Grundlegende Verwendung\nexport default async (rc: RenderContext) => {\n  // Festlegen des HTML-Inhalts\n  rc.html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        ${rc.preload()}\n        ${rc.css()}\n      </head>\n      <body>\n        <div id=\"app\">Hello World</div>\n        ${rc.importmap()}\n        ${rc.moduleEntry()}\n        ${rc.modulePreload()}\n      </body>\n    </html>\n  `;\n};\n\n// Dynamischer Basispfad\nconst rc = await gez.render({\n  base: '/app',  // Festlegen des Basispfads\n  params: { url: req.url }\n});\n\n// Platzhalter im HTML werden automatisch ersetzt:\n// [[[___GEZ_DYNAMIC_BASE___]]]/your-app-name/css/style.css\n// Wird ersetzt durch:\n// /app/your-app-name/css/style.css\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"base-1",children:["base",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#base-1",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nur Lesen"}),": ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Der Basispfad f\xfcr statische Ressourcen. Alle statischen Ressourcen (JS, CSS, Bilder usw.) werden relativ zu diesem Pfad geladen, unterst\xfctzt dynamische Konfiguration zur Laufzeit."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Grundlegende Verwendung\nconst rc = await gez.render({\n  base: '/gez',  // Festlegen des Basispfads\n  params: { url: req.url }\n});\n\n// Beispiel f\xfcr mehrsprachige Websites\nconst rc = await gez.render({\n  base: '/cn',  // Chinesische Website\n  params: { lang: 'zh-CN' }\n});\n\n// Beispiel f\xfcr Micro-Frontend-Anwendungen\nconst rc = await gez.render({\n  base: '/app1',  // Unteranwendung 1\n  params: { appId: 1 }\n});\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"entryname-1",children:["entryName",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entryname-1",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nur Lesen"}),": ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"'default'"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Der Name der serverseitigen Rendering-Eintrittsfunktion. Wird verwendet, um die zu verwendende Rendering-Funktion aus entry.server.ts auszuw\xe4hlen."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"// Standard-Eintrittsfunktion\nexport default async (rc: RenderContext) => {\n  // Standard-Rendering-Logik\n};\n\n// Mehrere Eintrittsfunktionen\nexport const mobile = async (rc: RenderContext) => {\n  // Rendering-Logik f\xfcr Mobilger\xe4te\n};\n\nexport const desktop = async (rc: RenderContext) => {\n  // Rendering-Logik f\xfcr Desktop-Ger\xe4te\n};\n\n// Auswahl der Eintrittsfunktion basierend auf dem Ger\xe4tetyp\nconst rc = await gez.render({\n  entryName: isMobile ? 'mobile' : 'desktop',\n  params: { url: req.url }\n});\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"params-1",children:["params",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#params-1",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"Record<string, any>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nur Lesen"}),": ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Rendering-Parameter. Kann w\xe4hrend des serverseitigen Renderings \xfcbergeben und abgerufen werden, h\xe4ufig verwendet f\xfcr die \xdcbergabe von Anfrageinformationen, Seitenkonfigurationen usw."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Grundlegende Verwendung - \xdcbergabe von URL und Spracheinstellungen\nconst rc = await gez.render({\n  params: {\n    url: req.url,\n    lang: 'zh-CN'\n  }\n});\n\n// Seitenkonfiguration - Festlegen von Thema und Layout\nconst rc = await gez.render({\n  params: {\n    theme: 'dark',\n    layout: 'sidebar'\n  }\n});\n\n// Umgebungskonfiguration - Einbindung der API-Adresse\nconst rc = await gez.render({\n  params: {\n    apiBaseUrl: process.env.API_BASE_URL,\n    version: '1.0.0'\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"importmetaset",children:["importMetaSet",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmetaset",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"Set<ImportMeta>"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Sammlung von Modulabh\xe4ngigkeiten. W\xe4hrend des Komponenten-Renderings werden automatisch Modulabh\xe4ngigkeiten verfolgt und aufgezeichnet, wobei nur die tats\xe4chlich verwendeten Ressourcen gesammelt werden."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Grundlegende Verwendung\nconst renderToString = (app: any, context: { importMetaSet: Set<ImportMeta> }) => {\n  // Automatische Sammlung von Modulabh\xe4ngigkeiten w\xe4hrend des Renderings\n  // Das Framework ruft automatisch context.importMetaSet.add(import.meta) w\xe4hrend des Komponenten-Renderings auf\n  // Entwickler m\xfcssen die Abh\xe4ngigkeitssammlung nicht manuell behandeln\n  return '<div id=\"app\">Hello World</div>';\n};\n\n// Verwendungsbeispiel\nconst app = createApp();\nconst html = await renderToString(app, {\n  importMetaSet: rc.importMetaSet\n});\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"files",children:["files",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#files",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"RenderFiles"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Liste der Ressourcendateien:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"js: Liste der JavaScript-Dateien"}),"\n",(0,s.jsx)(n.li,{children:"css: Liste der Stylesheet-Dateien"}),"\n",(0,s.jsx)(n.li,{children:"modulepreload: Liste der ESM-Module, die vorab geladen werden m\xfcssen"}),"\n",(0,s.jsx)(n.li,{children:"resources: Liste anderer Ressourcendateien (Bilder, Schriftarten usw.)"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Ressourcensammlung\nawait rc.commit();\n\n// Ressourceneinbindung\nrc.html = `\n  <!DOCTYPE html>\n  <html>\n  <head>\n    \x3c!-- Vorab geladene Ressourcen --\x3e\n    ${rc.preload()}\n    \x3c!-- Einbindung von Stylesheets --\x3e\n    ${rc.css()}\n  </head>\n  <body>\n    ${html}\n    ${rc.importmap()}\n    ${rc.moduleEntry()}\n    ${rc.modulePreload()}\n  </body>\n  </html>\n`;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"importmapmode-2",children:["importmapMode",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmapmode-2",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Typ"}),": ",(0,s.jsx)(n.code,{children:"'inline' | 'js'"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standardwert"}),": ",(0,s.jsx)(n.code,{children:"'inline'"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Generierungsmodus f\xfcr Import Maps:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"inline"}),": Der Importmap-Inhalt wird direkt in das HTML eingebettet"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"js"}),": Der Importmap-Inhalt wird als separate JS-Datei generiert"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"instanzmethoden",children:["Instanzmethoden",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#instanzmethoden",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"serialize",children:["serialize()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serialize",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameter"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"input: any"})," - Die zu serialisierenden Daten"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"options?: serialize.SerializeJSOptions"})," - Serialisierungsoptionen"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Serialisiert ein JavaScript-Objekt zu einem String. Wird verwendet, um Zustandsdaten w\xe4hrend des serverseitigen Renderings zu serialisieren und sicher in das HTML einzubetten."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const state = {\n  user: { id: 1, name: 'Alice' },\n  timestamp: new Date()\n};\n\nrc.html = `\n  <script>\n    window.__INITIAL_STATE__ = ${rc.serialize(state)};\n  <\/script>\n`;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"state",children:["state()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#state",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameter"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"varName: string"})," - Variablenname"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"data: Record<string, any>"})," - Zustandsdaten"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Serialisiert Zustandsdaten und bindet sie in das HTML ein. Verwendet sichere Serialisierungsmethoden f\xfcr die Datenverarbeitung und unterst\xfctzt komplexe Datenstrukturen."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const userInfo = {\n  id: 1,\n  name: 'John',\n  roles: ['admin']\n};\n\nrc.html = `\n  <head>\n    ${rc.state('__USER__', userInfo)}\n  </head>\n`;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"commit",children:["commit()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commit",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xdcbergibt die Abh\xe4ngigkeitssammlung und aktualisiert die Ressourcenliste. Sammelt alle verwendeten Module aus importMetaSet und analysiert die spezifischen Ressourcen jedes Moduls basierend auf der Manifest-Datei."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// Rendering und \xdcbergabe der Abh\xe4ngigkeiten\nconst html = await renderToString(app, {\n  importMetaSet: rc.importMetaSet\n});\n\n// \xdcbergabe der Abh\xe4ngigkeitssammlung\nawait rc.commit();\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"preload",children:["preload()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#preload",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Generiert Ressourcen-Vorlade-Tags. Wird verwendet, um CSS- und JavaScript-Ressourcen vorab zu laden, unterst\xfctzt Priorit\xe4tskonfiguration und verarbeitet automatisch den Basispfad."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"rc.html = `\n  <!DOCTYPE html>\n  <html>\n  <head>\n    ${rc.preload()}\n    ${rc.css()}  \x3c!-- Einbindung von Stylesheets --\x3e\n  </head>\n  <body>\n    ${html}\n    ${rc.importmap()}\n    ${rc.moduleEntry()}\n    ${rc.modulePreload()}\n  </body>\n  </html>\n`;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"css",children:["css()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Generiert CSS-Stylesheet-Tags. Bindet die gesammelten CSS-Dateien ein und stellt sicher, dass die Stylesheets in der richtigen Reihenfolge geladen werden."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"rc.html = `\n  <head>\n    ${rc.css()}  \x3c!-- Einbindung aller gesammelten Stylesheets --\x3e\n  </head>\n`;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"importmap",children:["importmap()",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmap",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R\xfcckgabewert"}),": ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Generiert Import-Map-Tags. Generiert die Import-Map basierend auf der importmapMode-Konfiguration."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"rc.html = `\n  <head>\n    ${rc.importmap()}  \x3c!-- Einbindung der Import-Map --\x3e\n \n"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}let a=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["de%2Fapi%2Fcore%2Frender-context.md"]={toc:[{text:"Typdefinitionen",id:"typdefinitionen",depth:2},{text:"ServerRenderHandle",id:"serverrenderhandle",depth:3},{text:"RenderFiles",id:"renderfiles",depth:3},{text:"ImportmapMode",id:"importmapmode",depth:3},{text:"Instanzoptionen",id:"instanzoptionen",depth:2},{text:"base",id:"base",depth:4},{text:"entryName",id:"entryname",depth:4},{text:"params",id:"params",depth:4},{text:"importmapMode",id:"importmapmode-1",depth:4},{text:"Instanzeigenschaften",id:"instanzeigenschaften",depth:2},{text:"gez",id:"gez",depth:3},{text:"redirect",id:"redirect",depth:3},{text:"status",id:"status",depth:3},{text:"html",id:"html",depth:3},{text:"base",id:"base-1",depth:3},{text:"entryName",id:"entryname-1",depth:3},{text:"params",id:"params-1",depth:3},{text:"importMetaSet",id:"importmetaset",depth:3},{text:"files",id:"files",depth:3},{text:"importmapMode",id:"importmapmode-2",depth:3},{text:"Instanzmethoden",id:"instanzmethoden",depth:2},{text:"serialize()",id:"serialize",depth:3},{text:"state()",id:"state",depth:3},{text:"commit()",id:"commit",depth:3},{text:"preload()",id:"preload",depth:3},{text:"css()",id:"css",depth:3},{text:"importmap()",id:"importmap",depth:3}],title:"RenderContext",headingTitle:"RenderContext",frontmatter:{titleSuffix:"Gez Framework Render Context API Referenz",description:"Detaillierte Beschreibung der RenderContext-Kernklasse des Gez-Frameworks, einschlie\xdflich Rendering-Steuerung, Ressourcenverwaltung, Zustandssynchronisierung und Routing-Kontrolle, um Entwicklern bei der Implementierung effizienter serverseitiger Rendering-L\xf6sungen zu helfen.",head:[["meta",{property:"keywords",content:"Gez, RenderContext, SSR, Serverseitiges Rendering, Rendering-Kontext, Zustandssynchronisierung, Ressourcenverwaltung, Webanwendungsframework"}]]}}}}]);