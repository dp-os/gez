"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["9096"],{2403:function(e,o,a){a.r(o),a.d(o,{default:()=>i});var n=a(1549),s=a(6603);function r(e){let o=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ul:"ul",li:"li",strong:"strong",ol:"ol"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.h1,{id:"do-compartilhamento-de-componentes-\\xe0-modulariza\\xe7\\xe3o-nativa-a-jornada-de-evolu\\xe7\\xe3o-do-framework-gez-de-micro-frontend",children:["Do compartilhamento de componentes \xe0 modulariza\xe7\xe3o nativa: A jornada de evolu\xe7\xe3o do framework Gez de micro frontend",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#do-compartilhamento-de-componentes-\\xe0-modulariza\\xe7\\xe3o-nativa-a-jornada-de-evolu\\xe7\\xe3o-do-framework-gez-de-micro-frontend",children:"#"})]}),"\n",(0,n.jsxs)(o.h2,{id:"contexto-do-projeto",children:["Contexto do Projeto",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#contexto-do-projeto",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"Nos \xfaltimos anos, a arquitetura de micro frontend tem buscado um caminho correto. No entanto, o que vemos s\xe3o v\xe1rias solu\xe7\xf5es t\xe9cnicas complexas que usam camadas de encapsulamento e isolamento artificial para simular um mundo ideal de micro frontend. Essas solu\xe7\xf5es trazem um pesado custo de desempenho, tornando o desenvolvimento simples em algo complexo e os processos padr\xe3o em algo obscuro."}),"\n",(0,n.jsxs)(o.h3,{id:"limita\\xe7\\xf5es-das-solu\\xe7\\xf5es-tradicionais",children:["Limita\xe7\xf5es das Solu\xe7\xf5es Tradicionais",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#limita\\xe7\\xf5es-das-solu\\xe7\\xf5es-tradicionais",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"Na pr\xe1tica da arquitetura de micro frontend, percebemos profundamente as v\xe1rias limita\xe7\xf5es das solu\xe7\xf5es tradicionais:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Perda de desempenho"}),": Inje\xe7\xe3o de depend\xeancias em tempo de execu\xe7\xe3o, proxy de sandbox JS, cada opera\xe7\xe3o consome um desempenho precioso"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Isolamento fr\xe1gil"}),": Ambientes de sandbox criados artificialmente nunca alcan\xe7am a capacidade de isolamento nativo do navegador"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Complexidade de constru\xe7\xe3o"}),": Para lidar com as depend\xeancias, \xe9 necess\xe1rio modificar as ferramentas de constru\xe7\xe3o, tornando projetos simples dif\xedceis de manter"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Regras personalizadas"}),": Estrat\xe9gias de implanta\xe7\xe3o especiais, processamento em tempo de execu\xe7\xe3o, cada passo se desvia do fluxo padr\xe3o de desenvolvimento moderno"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Limita\xe7\xf5es do ecossistema"}),": Acoplamento de frameworks, APIs personalizadas, limitando a escolha de tecnologias a ecossistemas espec\xedficos"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Esses problemas foram particularmente evidentes em um projeto corporativo de grande escala em 2019. Na \xe9poca, um grande produto foi dividido em mais de dez subsistemas de neg\xf3cios independentes, que precisavam compartilhar um conjunto de componentes b\xe1sicos e de neg\xf3cios. A solu\xe7\xe3o inicial de compartilhamento de componentes baseada em pacotes npm revelou s\xe9rios problemas de efici\xeancia de manuten\xe7\xe3o: quando um componente compartilhado era atualizado, todos os subsistemas que dependiam dele precisavam passar por um processo completo de constru\xe7\xe3o e implanta\xe7\xe3o."}),"\n",(0,n.jsxs)(o.h2,{id:"evolu\\xe7\\xe3o-t\\xe9cnica",children:["Evolu\xe7\xe3o T\xe9cnica",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#evolu\\xe7\\xe3o-t\\xe9cnica",children:"#"})]}),"\n",(0,n.jsxs)(o.h3,{id:"v10-explorando-componentes-remotos",children:["v1.0: Explorando Componentes Remotos",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#v10-explorando-componentes-remotos",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"Para resolver o problema de efici\xeancia no compartilhamento de componentes, o Gez v1.0 introduziu o mecanismo de componente RemoteView baseado no protocolo HTTP. Essa solu\xe7\xe3o implementou a montagem de c\xf3digo sob demanda entre servi\xe7os por meio de solicita\xe7\xf5es din\xe2micas em tempo de execu\xe7\xe3o, resolvendo com sucesso o problema da cadeia de depend\xeancias de constru\xe7\xe3o excessivamente longa. No entanto, devido \xe0 falta de um mecanismo padronizado de comunica\xe7\xe3o em tempo de execu\xe7\xe3o, a sincroniza\xe7\xe3o de estado e a passagem de eventos entre servi\xe7os ainda apresentavam gargalos de efici\xeancia."}),"\n",(0,n.jsxs)(o.h3,{id:"v20-tentativa-de-module-federation",children:["v2.0: Tentativa de Module Federation",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#v20-tentativa-de-module-federation",children:"#"})]}),"\n",(0,n.jsxs)(o.p,{children:["Na vers\xe3o v2.0, adotamos a tecnologia ",(0,n.jsx)(o.a,{href:"https://webpack.js.org/concepts/module-federation/",target:"_blank",rel:"noopener noreferrer",children:"Module Federation"})," do ",(0,n.jsx)(o.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"Webpack 5.0"}),". Essa tecnologia, por meio de um mecanismo unificado de carregamento de m\xf3dulos e cont\xeaineres de tempo de execu\xe7\xe3o, melhorou significativamente a efici\xeancia de colabora\xe7\xe3o entre servi\xe7os. No entanto, em pr\xe1ticas em larga escala, o mecanismo fechado de implementa\xe7\xe3o do Module Federation trouxe novos desafios: dificuldade em gerenciar vers\xf5es de depend\xeancias com precis\xe3o, especialmente ao unificar depend\xeancias compartilhadas entre v\xe1rios servi\xe7os, frequentemente enfrentando conflitos de vers\xe3o e exce\xe7\xf5es em tempo de execu\xe7\xe3o."]}),"\n",(0,n.jsxs)(o.h2,{id:"abra\\xe7ando-a-nova-era-do-esm",children:["Abra\xe7ando a Nova Era do ESM",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#abra\\xe7ando-a-nova-era-do-esm",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"Ao planejar a vers\xe3o v3.0, observamos profundamente as tend\xeancias de desenvolvimento do ecossistema frontend e descobrimos que os avan\xe7os nas capacidades nativas do navegador trouxeram novas possibilidades para a arquitetura de micro frontend:"}),"\n",(0,n.jsxs)(o.h3,{id:"sistema-de-m\\xf3dulos-padronizado",children:["Sistema de M\xf3dulos Padronizado",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#sistema-de-m\\xf3dulos-padronizado",children:"#"})]}),"\n",(0,n.jsxs)(o.p,{children:["Com o suporte completo dos principais navegadores aos ",(0,n.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"ES Modules"})," e a maturidade da especifica\xe7\xe3o ",(0,n.jsx)(o.a,{href:"https://github.com/WICG/import-maps",target:"_blank",rel:"noopener noreferrer",children:"Import Maps"}),", o desenvolvimento frontend entrou em uma era verdadeiramente modular. De acordo com as estat\xedsticas do ",(0,n.jsx)(o.a,{href:"https://caniuse.com/?search=importmap",target:"_blank",rel:"noopener noreferrer",children:"Can I Use"}),", a taxa de suporte nativo ao ESM nos principais navegadores (Chrome >= 89, Edge >= 89, Firefox >= 108, Safari >= 16.4) atingiu 93,5%, o que nos proporcionou as seguintes vantagens:"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Gerenciamento de depend\xeancias padronizado"}),": Import Maps oferece a capacidade de resolver depend\xeancias de m\xf3dulos no n\xedvel do navegador, sem a necessidade de inje\xe7\xe3o complexa em tempo de execu\xe7\xe3o"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Otimiza\xe7\xe3o de carregamento de recursos"}),": O mecanismo de cache de m\xf3dulos nativo do navegador melhora significativamente a efici\xeancia de carregamento de recursos"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Simplifica\xe7\xe3o do fluxo de constru\xe7\xe3o"}),": O modo de desenvolvimento baseado em ESM torna o fluxo de constru\xe7\xe3o entre ambientes de desenvolvimento e produ\xe7\xe3o mais consistente"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Al\xe9m disso, com o suporte ao modo de compatibilidade (Chrome >= 87, Edge >= 88, Firefox >= 78, Safari >= 14), podemos aumentar ainda mais a cobertura de navegadores para 96,81%, permitindo que mantenhamos alto desempenho sem sacrificar o suporte a navegadores antigos."}),"\n",(0,n.jsxs)(o.h3,{id:"avan\\xe7os-em-desempenho-e-isolamento",children:["Avan\xe7os em Desempenho e Isolamento",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#avan\\xe7os-em-desempenho-e-isolamento",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"O sistema de m\xf3dulos nativo trouxe n\xe3o apenas padroniza\xe7\xe3o, mas tamb\xe9m melhorias significativas em desempenho e isolamento:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Zero custo de tempo de execu\xe7\xe3o"}),": Eliminamos o proxy de sandbox JavaScript e a inje\xe7\xe3o em tempo de execu\xe7\xe3o das solu\xe7\xf5es tradicionais de micro frontend"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Mecanismo de isolamento confi\xe1vel"}),": O escopo estrito de m\xf3dulos do ESM fornece naturalmente a capacidade de isolamento mais confi\xe1vel"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Gerenciamento preciso de depend\xeancias"}),": A an\xe1lise est\xe1tica de importa\xe7\xf5es torna as rela\xe7\xf5es de depend\xeancia mais claras e o controle de vers\xe3o mais preciso"]}),"\n"]}),"\n",(0,n.jsxs)(o.h3,{id:"escolha-da-ferramenta-de-constru\\xe7\\xe3o",children:["Escolha da Ferramenta de Constru\xe7\xe3o",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#escolha-da-ferramenta-de-constru\\xe7\\xe3o",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"Na implementa\xe7\xe3o da solu\xe7\xe3o t\xe9cnica, a escolha da ferramenta de constru\xe7\xe3o foi um ponto de decis\xe3o crucial. Ap\xf3s quase um ano de pesquisa e pr\xe1tica t\xe9cnica, nossa escolha passou pela seguinte evolu\xe7\xe3o:"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Explora\xe7\xe3o do Vite"})}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Vantagem: Servidor de desenvolvimento baseado em ESM, proporcionando uma experi\xeancia de desenvolvimento excepcional"}),"\n",(0,n.jsx)(o.li,{children:"Desafio: As diferen\xe7as de constru\xe7\xe3o entre ambientes de desenvolvimento e produ\xe7\xe3o trouxeram certa incerteza"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(o.li,{children:["\n",(0,n.jsx)(o.p,{children:(0,n.jsxs)(o.strong,{children:["Estabelecimento do ",(0,n.jsx)(o.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})]})}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Vantagem de desempenho: Compila\xe7\xe3o de alta performance baseada em ",(0,n.jsx)(o.a,{href:"https://www.rust-lang.org/",target:"_blank",rel:"noopener noreferrer",children:"Rust"}),", melhorando significativamente a velocidade de constru\xe7\xe3o"]}),"\n",(0,n.jsx)(o.li,{children:"Suporte ao ecossistema: Alta compatibilidade com o ecossistema Webpack, reduzindo o custo de migra\xe7\xe3o"}),"\n",(0,n.jsx)(o.li,{children:"Suporte ao ESM: Atrav\xe9s da pr\xe1tica do projeto Rslib, validamos sua confiabilidade na constru\xe7\xe3o com ESM"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Essa decis\xe3o nos permitiu manter a experi\xeancia de desenvolvimento enquanto obt\xednhamos suporte mais est\xe1vel para o ambiente de produ\xe7\xe3o. Com a combina\xe7\xe3o de ESM e Rspack, finalmente constru\xedmos uma solu\xe7\xe3o de micro frontend de alta performance e baixa intrusividade."}),"\n",(0,n.jsxs)(o.h2,{id:"perspectivas-futuras",children:["Perspectivas Futuras",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#perspectivas-futuras",children:"#"})]}),"\n",(0,n.jsx)(o.p,{children:"No planejamento futuro, o framework Gez focar\xe1 em tr\xeas dire\xe7\xf5es principais:"}),"\n",(0,n.jsxs)(o.h3,{id:"otimiza\\xe7\\xe3o-profunda-do-import-maps",children:["Otimiza\xe7\xe3o Profunda do Import Maps",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#otimiza\\xe7\\xe3o-profunda-do-import-maps",children:"#"})]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Gerenciamento din\xe2mico de depend\xeancias"}),": Implementar agendamento inteligente de vers\xf5es de depend\xeancias em tempo de execu\xe7\xe3o, resolvendo conflitos de depend\xeancias entre m\xfaltiplas aplica\xe7\xf5es"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Estrat\xe9gia de pr\xe9-carregamento"}),": Pr\xe9-carregamento inteligente baseado em an\xe1lise de rotas, melhorando a efici\xeancia de carregamento de recursos"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Otimiza\xe7\xe3o de constru\xe7\xe3o"}),": Gerar automaticamente a configura\xe7\xe3o \xf3tima do Import Maps, reduzindo o custo de configura\xe7\xe3o manual dos desenvolvedores"]}),"\n"]}),"\n",(0,n.jsxs)(o.h3,{id:"solu\\xe7\\xe3o-de-rota-independente-de-framework",children:["Solu\xe7\xe3o de Rota Independente de Framework",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#solu\\xe7\\xe3o-de-rota-independente-de-framework",children:"#"})]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Abstra\xe7\xe3o unificada de rotas"}),": Projetar uma interface de rota independente de framework, suportando Vue, React e outros frameworks principais"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Roteamento de micro aplica\xe7\xf5es"}),": Implementar interliga\xe7\xe3o de rotas entre aplica\xe7\xf5es, mantendo a consist\xeancia entre URL e estado da aplica\xe7\xe3o"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Middleware de rota"}),": Fornecer um mecanismo de middleware extens\xedvel, suportando controle de acesso, transi\xe7\xf5es de p\xe1gina, etc."]}),"\n"]}),"\n",(0,n.jsxs)(o.h3,{id:"melhores-pr\\xe1ticas-de-comunica\\xe7\\xe3o-entre-frameworks",children:["Melhores Pr\xe1ticas de Comunica\xe7\xe3o entre Frameworks",(0,n.jsx)(o.a,{className:"header-anchor","aria-hidden":"true",href:"#melhores-pr\\xe1ticas-de-comunica\\xe7\\xe3o-entre-frameworks",children:"#"})]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Aplica\xe7\xe3o de exemplo"}),": Fornecer um exemplo completo de comunica\xe7\xe3o entre frameworks, cobrindo Vue, React, Preact e outros frameworks principais"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Sincroniza\xe7\xe3o de estado"}),": Solu\xe7\xe3o leve de compartilhamento de estado baseada em ESM"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Barramento de eventos"}),": Mecanismo padronizado de comunica\xe7\xe3o por eventos, suportando comunica\xe7\xe3o desacoplada entre aplica\xe7\xf5es"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Com essas otimiza\xe7\xf5es e expans\xf5es, esperamos tornar o Gez uma solu\xe7\xe3o de micro frontend mais completa e f\xe1cil de usar, proporcionando aos desenvolvedores uma melhor experi\xeancia de desenvolvimento e maior efici\xeancia."})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:o}=Object.assign({},(0,s.ah)(),e.components);return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(r,{...e})}):r(e)}let i=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["pt%2Fblog%2Fbirth-of-gez.md"]={toc:[{text:"Contexto do Projeto",id:"contexto-do-projeto",depth:2},{text:"Limita\xe7\xf5es das Solu\xe7\xf5es Tradicionais",id:"limita\xe7\xf5es-das-solu\xe7\xf5es-tradicionais",depth:3},{text:"Evolu\xe7\xe3o T\xe9cnica",id:"evolu\xe7\xe3o-t\xe9cnica",depth:2},{text:"v1.0: Explorando Componentes Remotos",id:"v10-explorando-componentes-remotos",depth:3},{text:"v2.0: Tentativa de Module Federation",id:"v20-tentativa-de-module-federation",depth:3},{text:"Abra\xe7ando a Nova Era do ESM",id:"abra\xe7ando-a-nova-era-do-esm",depth:2},{text:"Sistema de M\xf3dulos Padronizado",id:"sistema-de-m\xf3dulos-padronizado",depth:3},{text:"Avan\xe7os em Desempenho e Isolamento",id:"avan\xe7os-em-desempenho-e-isolamento",depth:3},{text:"Escolha da Ferramenta de Constru\xe7\xe3o",id:"escolha-da-ferramenta-de-constru\xe7\xe3o",depth:3},{text:"Perspectivas Futuras",id:"perspectivas-futuras",depth:2},{text:"Otimiza\xe7\xe3o Profunda do Import Maps",id:"otimiza\xe7\xe3o-profunda-do-import-maps",depth:3},{text:"Solu\xe7\xe3o de Rota Independente de Framework",id:"solu\xe7\xe3o-de-rota-independente-de-framework",depth:3},{text:"Melhores Pr\xe1ticas de Comunica\xe7\xe3o entre Frameworks",id:"melhores-pr\xe1ticas-de-comunica\xe7\xe3o-entre-frameworks",depth:3}],title:"Do compartilhamento de componentes \xe0 modulariza\xe7\xe3o nativa: A jornada de evolu\xe7\xe3o do framework Gez de micro frontend",headingTitle:"Do compartilhamento de componentes \xe0 modulariza\xe7\xe3o nativa: A jornada de evolu\xe7\xe3o do framework Gez de micro frontend",frontmatter:{titleSuffix:"Do dilema do micro frontend \xe0 inova\xe7\xe3o do ESM: A jornada de evolu\xe7\xe3o do framework Gez",description:"Explore em profundidade a evolu\xe7\xe3o do framework Gez, desde os desafios da arquitetura tradicional de micro frontend at\xe9 as inova\xe7\xf5es baseadas em ESM, compartilhando pr\xe1ticas t\xe9cnicas em otimiza\xe7\xe3o de desempenho, gerenciamento de depend\xeancias e sele\xe7\xe3o de ferramentas de constru\xe7\xe3o.",head:[["meta",{property:"keywords",content:"Gez, framework de micro frontend, ESM, Import Maps, Rspack, Module Federation, gerenciamento de depend\xeancias, otimiza\xe7\xe3o de desempenho, evolu\xe7\xe3o t\xe9cnica, renderiza\xe7\xe3o no lado do servidor"}]],sidebar:!1}}}}]);