"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["584"],{5333:function(e,i,n){n.r(i),n.d(i,{default:()=>s});var o=n(1549),r=n(6603);function d(e){let i=Object.assign({h1:"h1",a:"a",p:"p",h3:"h3",h4:"h4",ul:"ul",li:"li",strong:"strong",ol:"ol",h2:"h2",code:"code",pre:"pre"},(0,r.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.h1,{id:"collegamento-moduli",children:["Collegamento moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#collegamento-moduli",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Il framework Gez fornisce un meccanismo completo di collegamento moduli per gestire la condivisione del codice e le relazioni di dipendenza tra i servizi. Questo meccanismo \xe8 implementato sulla base della specifica ESM (ECMAScript Module) e supporta l'esportazione e l'importazione di moduli a livello di codice sorgente, oltre a una completa gestione delle dipendenze."}),"\n",(0,o.jsxs)(i.h3,{id:"concetti-chiave",children:["Concetti chiave",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#concetti-chiave",children:"#"})]}),"\n",(0,o.jsxs)(i.h4,{id:"esportazione-moduli",children:["Esportazione moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#esportazione-moduli",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"L'esportazione di moduli \xe8 il processo di esporre unit\xe0 di codice specifiche (come componenti, funzioni di utilit\xe0, ecc.) da un servizio in formato ESM. Sono supportati due tipi di esportazione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Esportazione codice sorgente"}),": esportazione diretta dei file di codice sorgente del progetto"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Esportazione dipendenze"}),": esportazione dei pacchetti di dipendenze di terze parti utilizzati dal progetto"]}),"\n"]}),"\n",(0,o.jsxs)(i.h4,{id:"importazione-moduli",children:["Importazione moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#importazione-moduli",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"L'importazione di moduli \xe8 il processo di riferimento a unit\xe0 di codice esportate da altri servizi all'interno di un servizio. Sono supportati diversi metodi di installazione:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Installazione codice sorgente"}),": adatta per ambienti di sviluppo, supporta modifiche in tempo reale e aggiornamento a caldo"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Installazione pacchetto"}),": adatta per ambienti di produzione, utilizza direttamente i prodotti di build"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"meccanismo-di-precaricamento",children:["Meccanismo di precaricamento",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#meccanismo-di-precaricamento",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Per ottimizzare le prestazioni dei servizi, Gez implementa un meccanismo intelligente di precaricamento moduli:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Analisi dipendenze"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Analisi delle relazioni di dipendenza tra i componenti durante la build"}),"\n",(0,o.jsx)(i.li,{children:"Identificazione dei moduli core sul percorso critico"}),"\n",(0,o.jsx)(i.li,{children:"Determinazione della priorit\xe0 di caricamento dei moduli"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Strategia di caricamento"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Caricamento immediato"}),": moduli core sul percorso critico"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Caricamento differito"}),": moduli di funzionalit\xe0 non critiche"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Caricamento su richiesta"}),": moduli con rendering condizionale"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Ottimizzazione risorse"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Strategia intelligente di suddivisione del codice"}),"\n",(0,o.jsx)(i.li,{children:"Gestione della cache a livello di modulo"}),"\n",(0,o.jsx)(i.li,{children:"Compilazione e bundling su richiesta"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h2,{id:"esportazione-moduli-1",children:["Esportazione moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#esportazione-moduli-1",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configurare i moduli da esportare in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        exports: [\n            // Esportazione file sorgente\n            'root:src/components/button.vue',  // Componente Vue\n            'root:src/utils/format.ts',        // Funzione di utilit\xe0\n            // Esportazione dipendenze di terze parti\n            'npm:vue',                         // Framework Vue\n            'npm:vue-router'                   // Vue Router\n        ]\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsx)(i.p,{children:"La configurazione di esportazione supporta due tipi:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"root:*"}),": esportazione file sorgente, percorso relativo alla root del progetto"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"npm:*"}),": esportazione dipendenze di terze parti, specificando direttamente il nome del pacchetto"]}),"\n"]}),"\n",(0,o.jsxs)(i.h2,{id:"importazione-moduli-1",children:["Importazione moduli",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#importazione-moduli-1",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-1",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-1",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configurare i moduli da importare in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    modules: {\n        // Configurazione importazione\n        imports: {\n            // Installazione codice sorgente: punta alla directory dei prodotti di build\n            'ssr-remote': 'root:./node_modules/ssr-remote/dist',\n            // Installazione pacchetto: punta alla directory del pacchetto\n            'other-remote': 'root:./node_modules/other-remote'\n        },\n        // Configurazione dipendenze esterne\n        externals: {\n            // Utilizzo delle dipendenze dai moduli remoti\n            'vue': 'ssr-remote/npm/vue',\n            'vue-router': 'ssr-remote/npm/vue-router'\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsx)(i.p,{children:"Descrizione delle opzioni di configurazione:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"imports"}),": configura il percorso locale dei moduli remoti"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Installazione codice sorgente: punta alla directory dei prodotti di build (dist)"}),"\n",(0,o.jsx)(i.li,{children:"Installazione pacchetto: punta direttamente alla directory del pacchetto"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"externals"}),": configura le dipendenze esterne"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Utilizzato per condividere le dipendenze dai moduli remoti"}),"\n",(0,o.jsx)(i.li,{children:"Evita il rebundling delle stesse dipendenze"}),"\n",(0,o.jsx)(i.li,{children:"Supporta la condivisione di dipendenze tra pi\xf9 moduli"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"metodi-di-installazione",children:["Metodi di installazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#metodi-di-installazione",children:"#"})]}),"\n",(0,o.jsxs)(i.h4,{id:"installazione-codice-sorgente",children:["Installazione codice sorgente",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#installazione-codice-sorgente",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Adatta per ambienti di sviluppo, supporta modifiche in tempo reale e aggiornamento a caldo."}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Modalit\xe0 Workspace"}),"\nConsigliata per progetti Monorepo:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "workspace:*"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.ol,{start:"2",children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Modalit\xe0 Link"}),"\nUtilizzata per il debug locale:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "devDependencies": {\n        "ssr-remote": "link:../ssr-remote"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.h4,{id:"installazione-pacchetto",children:["Installazione pacchetto",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#installazione-pacchetto",children:"#"})]}),"\n",(0,o.jsx)(i.p,{children:"Adatta per ambienti di produzione, utilizza direttamente i prodotti di build."}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"NPM Registry"}),"\nInstallazione tramite npm registry:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "^1.0.0"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.ol,{start:"2",children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Server statico"}),"\nInstallazione tramite protocollo HTTP/HTTPS:"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="package.json"',children:'{\n    "dependencies": {\n        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"\n    }\n}\n'})}),"\n",(0,o.jsxs)(i.h2,{id:"costruzione-pacchetti",children:["Costruzione pacchetti",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#costruzione-pacchetti",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-2",children:["Configurazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-2",children:"#"})]}),"\n",(0,o.jsxs)(i.p,{children:["Configurare le opzioni di build in ",(0,o.jsx)(i.code,{children:"entry.node.ts"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n    // Configurazione esportazione moduli\n    modules: {\n        exports: [\n            'root:src/components/button.vue',\n            'root:src/utils/format.ts',\n            'npm:vue'\n        ]\n    },\n    // Configurazione build\n    pack: {\n        // Abilita la build\n        enable: true,\n\n        // Configurazione output\n        outputs: [\n            'dist/client/versions/latest.tgz',\n            'dist/client/versions/1.0.0.tgz'\n        ],\n\n        // Personalizzazione package.json\n        packageJson: async (gez, pkg) => {\n            pkg.version = '1.0.0';\n            return pkg;\n        },\n\n        // Pre-elaborazione della build\n        onBefore: async (gez, pkg) => {\n            // Generazione dichiarazioni di tipo\n            // Esecuzione test case\n            // Aggiornamento documentazione, ecc.\n        },\n\n        // Post-elaborazione della build\n        onAfter: async (gez, pkg, file) => {\n            // Upload su CDN\n            // Pubblicazione su repository npm\n            // Deploy su ambiente di test, ecc.\n        }\n    }\n} satisfies GezOptions;\n"})}),"\n",(0,o.jsxs)(i.h3,{id:"prodotti-della-build",children:["Prodotti della build",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#prodotti-della-build",children:"#"})]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"your-app-name.tgz\n├── package.json        # Informazioni pacchetto\n├── index.js            # Entrypoint ambiente di produzione\n├── server/             # Risorse lato server\n│   └── manifest.json   # Mappatura risorse lato server\n├── node/               # Runtime Node.js\n└── client/             # Risorse lato client\n    └── manifest.json   # Mappatura risorse lato client\n"})}),"\n",(0,o.jsxs)(i.h3,{id:"processo-di-pubblicazione",children:["Processo di pubblicazione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#processo-di-pubblicazione",children:"#"})]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# 1. Costruzione versione di produzione\ngez build\n\n# 2. Pubblicazione su npm\nnpm publish dist/versions/your-app-name.tgz\n"})}),"\n",(0,o.jsxs)(i.h2,{id:"best-practice",children:["Best practice",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#best-practice",children:"#"})]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-ambiente-di-sviluppo",children:["Configurazione ambiente di sviluppo",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-ambiente-di-sviluppo",children:"#"})]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Gestione dipendenze"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Utilizzare la modalit\xe0 Workspace o Link per installare le dipendenze"}),"\n",(0,o.jsx)(i.li,{children:"Gestione centralizzata delle versioni delle dipendenze"}),"\n",(0,o.jsx)(i.li,{children:"Evitare l'installazione duplicata delle stesse dipendenze"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Esperienza di sviluppo"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Abilitare la funzionalit\xe0 di aggiornamento a caldo"}),"\n",(0,o.jsx)(i.li,{children:"Configurare una strategia di precaricamento adeguata"}),"\n",(0,o.jsx)(i.li,{children:"Ottimizzare la velocit\xe0 di build"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"configurazione-ambiente-di-produzione",children:["Configurazione ambiente di produzione",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#configurazione-ambiente-di-produzione",children:"#"})]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Strategia di deploy"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Utilizzare NPM Registry o server statici"}),"\n",(0,o.jsx)(i.li,{children:"Garantire l'integrit\xe0 dei prodotti di build"}),"\n",(0,o.jsx)(i.li,{children:"Implementare meccanismi di rilascio graduale"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Ottimizzazione prestazioni"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Configurare correttamente il precaricamento delle risorse"}),"\n",(0,o.jsx)(i.li,{children:"Ottimizzare l'ordine di caricamento dei moduli"}),"\n",(0,o.jsx)(i.li,{children:"Implementare strategie di caching efficaci"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.h3,{id:"gestione-versioni",children:["Gestione versioni",(0,o.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#gestione-versioni",children:"#"})]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Standard versioni"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Seguire le specifiche di versionamento semantico"}),"\n",(0,o.jsx)(i.li,{children:"Mantenere un changelog dettagliato"}),"\n",(0,o.jsx)(i.li,{children:"Eseguire test di compatibilit\xe0 delle versioni"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Aggiornamento dipendenze"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Aggiornare tempestivamente i pacchetti di dipendenza"}),"\n",(0,o.jsx)(i.li,{children:"Eseguire audit di sicurezza periodici"}),"\n",(0,o.jsx)(i.li,{children:"Mantenere la coerenza delle versioni delle dipendenze"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"\n"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,r.ah)(),e.components);return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}let s=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["it%2Fguide%2Fessentials%2Fmodule-link.md"]={toc:[{text:"Concetti chiave",id:"concetti-chiave",depth:3},{text:"Esportazione moduli",id:"esportazione-moduli",depth:4},{text:"Importazione moduli",id:"importazione-moduli",depth:4},{text:"Meccanismo di precaricamento",id:"meccanismo-di-precaricamento",depth:3},{text:"Esportazione moduli",id:"esportazione-moduli-1",depth:2},{text:"Configurazione",id:"configurazione",depth:3},{text:"Importazione moduli",id:"importazione-moduli-1",depth:2},{text:"Configurazione",id:"configurazione-1",depth:3},{text:"Metodi di installazione",id:"metodi-di-installazione",depth:3},{text:"Installazione codice sorgente",id:"installazione-codice-sorgente",depth:4},{text:"Installazione pacchetto",id:"installazione-pacchetto",depth:4},{text:"Costruzione pacchetti",id:"costruzione-pacchetti",depth:2},{text:"Configurazione",id:"configurazione-2",depth:3},{text:"Prodotti della build",id:"prodotti-della-build",depth:3},{text:"Processo di pubblicazione",id:"processo-di-pubblicazione",depth:3},{text:"Best practice",id:"best-practice",depth:2},{text:"Configurazione ambiente di sviluppo",id:"configurazione-ambiente-di-sviluppo",depth:3},{text:"Configurazione ambiente di produzione",id:"configurazione-ambiente-di-produzione",depth:3},{text:"Gestione versioni",id:"gestione-versioni",depth:3}],title:"Collegamento moduli",headingTitle:"Collegamento moduli",frontmatter:{titleSuffix:"Meccanismo di condivisione del codice tra servizi nel framework Gez",description:"Descrizione dettagliata del meccanismo di collegamento dei moduli nel framework Gez, inclusa la condivisione del codice tra servizi, la gestione delle dipendenze e l'implementazione della specifica ESM, per aiutare gli sviluppatori a costruire applicazioni microfrontend efficienti.",head:[["meta",{property:"keywords",content:"Gez, Collegamento moduli, Module Link, ESM, Condivisione codice, Gestione dipendenze, Microfrontend"}]]}}}}]);