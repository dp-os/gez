---
titleSuffix: API 文档编写规范
description: Gez 框架的 API 文档编写规范，包含文档结构、格式要求、示例编写等详细指南，帮助开发者创建高质量的 API 文档。
head:
  - - meta
    - property: keywords
      content: Gez, API 文档, 编写规范, 文档结构, TypeScript, 开发指南
---

# API 文档编写规范

## 文档结构

### 基本结构

API 文档应包含以下基本部分：

1. **标题与简介**
   - 使用一级标题 (#) 作为模块名称
   - 简介部分应简要说明模块的主要功能和用途
   - 简介应与源码中的注释保持一致

2. **类型定义**
   - 使用二级标题 (##) 标识「类型导出」部分
   - 按字母顺序列出所有类型定义
   - 每个类型定义都应包含完整的 TypeScript 类型声明
   - 类型定义必须与源码保持一致
   - 对每个类型的属性进行详细说明

3. **实例选项**
   - 使用二级标题标识配置选项部分
   - 选项应按重要性排序
   - 每个选项需包含类型、默认值和说明
   - 对可选项和必选项进行明确标注

4. **实例属性**
   - 使用二级标题标识属性部分
   - 属性应按字母顺序排列
   - 标注只读属性和可能抛出的异常
   - 说明属性的类型和用途

5. **实例方法**
   - 使用二级标题标识方法部分
   - 方法应按字母顺序排列
   - 包含完整的参数和返回值说明
   - 说明方法的用途和使用场景

### 格式规范

#### 标题格式

- 一级标题：模块名称
- 二级标题：主要分类（类型导出、实例选项等）
- 三级标题：具体项目名称
- 四级标题：项目的子属性或详细说明

#### 代码示例

1. **类型定义示例**
```ts
interface ModuleConfig {
  exports?: string[]
  imports?: Record<string, string>
  externals?: Record<string, string>
}
```

2. **配置示例**
```ts
// entry.node.ts
import type { GezOptions } from '@gez/core';

export default {
  modules: {
    exports: [
      'root:src/components/button.vue',  // 导出源码文件
      'npm:vue'  // 导出第三方依赖
    ],
    imports: {
      'remote': 'root:./node_modules/remote/dist'
    }
  }
} satisfies GezOptions;
```

### 源码一致性

1. **类型定义**
   - 确保文档中的类型定义与源码完全一致
   - 类型的属性顺序应与源码保持一致
   - 包含源码中的所有类型注释

2. **示例代码**
   - 示例代码应该是可运行的完整代码
   - 示例代码应与源码中的示例保持一致
   - 关键示例应包含完整的上下文

3. **注释同步**
   - 文档说明应与源码注释保持同步
   - 属性和方法的描述应与源码注释一致
   - 重要的使用说明和注意事项需要同步更新

### 最佳实践

1. **文档更新**
   - 源码更新时同步更新文档
   - 确保示例代码的正确性和时效性
   - 保持文档的完整性和一致性

2. **格式化**
   - 使用统一的 Markdown 格式
   - 保持适当的段落间距
   - 使用规范的代码块标注

3. **内容组织**
   - 按照重要性和使用频率组织内容
   - 相关的配置项和方法应该放在一起
   - 使用清晰的层级结构
```