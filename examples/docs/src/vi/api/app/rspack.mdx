---
titleSuffix: Gez Framework Rspack Build Tool
description: Công cụ xây dựng Rspack của Gez Framework, cung cấp khả năng xây dựng ứng dụng hiệu suất cao, hỗ trợ phát triển và xây dựng ứng dụng tiêu chuẩn và ứng dụng HTML, tích hợp nhiều bộ xử lý tài nguyên và cấu hình tối ưu hóa.
head:
  - - meta
    - property: keywords
      content: Gez, Rspack, công cụ xây dựng, xây dựng ứng dụng, ứng dụng HTML, TypeScript, CSS, xử lý tài nguyên, tối ưu hóa hiệu suất
---

import { PackageManagerTabs } from '@theme';

# @gez/rspack

Gói Rspack cung cấp một bộ API để tạo và cấu hình ứng dụng Rspack, hỗ trợ xây dựng và phát triển ứng dụng tiêu chuẩn và ứng dụng HTML.

## Cài đặt

Sử dụng trình quản lý gói để cài đặt phụ thuộc phát triển `@gez/rspack`:

<PackageManagerTabs command="install @gez/rspack -D" />

## Xuất kiểu

### BuildTarget

```ts
type BuildTarget = 'node' | 'client' | 'server'
```

Kiểu môi trường mục tiêu xây dựng, định nghĩa môi trường mục tiêu xây dựng của ứng dụng, được sử dụng để cấu hình các tối ưu hóa và chức năng cụ thể trong quá trình xây dựng:
- `node`: Xây dựng mã chạy trong môi trường Node.js
- `client`: Xây dựng mã chạy trong môi trường trình duyệt
- `server`: Xây dựng mã chạy trong môi trường máy chủ

### RspackAppConfigContext

```ts
interface RspackAppConfigContext {
  gez: Gez
  buildTarget: BuildTarget
  config: RspackOptions
  options: RspackAppOptions
}
```

Giao diện ngữ cảnh cấu hình ứng dụng Rspack, cung cấp thông tin ngữ cảnh có thể truy cập trong các hàm hook cấu hình:
- `gez`: Phiên bản Gez Framework
- `buildTarget`: Mục tiêu xây dựng hiện tại (client/server/node)
- `config`: Đối tượng cấu hình Rspack
- `options`: Tùy chọn cấu hình ứng dụng

### RspackAppOptions

```ts
interface RspackAppOptions {
  css?: 'css' | 'style'
  loaders?: {
    styleLoader?: string
  }
  styleLoader?: Record<string, any>
  cssLoader?: Record<string, any>
  target?: {
    web?: string[]
    node?: string[]
  }
  definePlugin?: Record<string, any>
  config?: (context: RspackAppConfigContext) => void | Promise<void>
}
```

Giao diện tùy chọn cấu hình ứng dụng Rspack:
- `css`: Cách xuất CSS, có thể chọn 'css' (tệp độc lập) hoặc 'style' (kiểu nội tuyến)
- `loaders`: Cấu hình loader tùy chỉnh
- `styleLoader`: Tùy chọn cấu hình style-loader
- `cssLoader`: Tùy chọn cấu hình css-loader
- `target`: Cấu hình tương thích mục tiêu xây dựng
- `definePlugin`: Định nghĩa hằng số toàn cục
- `config`: Hàm hook cấu hình

### RspackHtmlAppOptions

Kế thừa từ `RspackAppOptions`, được sử dụng để cấu hình các tùy chọn cụ thể cho ứng dụng HTML.

## Xuất hàm

### createRspackApp

```ts
function createRspackApp(gez: Gez, options?: RspackAppOptions): Promise<App>
```

Tạo một phiên bản ứng dụng Rspack tiêu chuẩn.

**Tham số:**
- `gez`: Phiên bản Gez Framework
- `options`: Tùy chọn cấu hình ứng dụng Rspack

**Giá trị trả về:**
- Trả về một Promise, giải quyết thành phiên bản ứng dụng được tạo

### createRspackHtmlApp

```ts
function createRspackHtmlApp(gez: Gez, options?: RspackHtmlAppOptions): Promise<App>
```

Tạo một phiên bản ứng dụng Rspack kiểu HTML.

**Tham số:**
- `gez`: Phiên bản Gez Framework
- `options`: Tùy chọn cấu hình ứng dụng HTML

**Giá trị trả về:**
- Trả về một Promise, giải quyết thành phiên bản ứng dụng HTML được tạo

## Xuất hằng số
### RSPACK_LOADER

```ts
const RSPACK_LOADER: Record<string, string> = {
  builtinSwcLoader: 'builtin:swc-loader',
  lightningcssLoader: 'builtin:lightningcss-loader',
  styleLoader: 'style-loader',
  cssLoader: 'css-loader',
  lessLoader: 'less-loader',
  styleResourcesLoader: 'style-resources-loader',
  workerRspackLoader: 'worker-rspack-loader'
}
```

Đối tượng ánh xạ định danh loader tích hợp trong Rspack, cung cấp các hằng số tên loader thông dụng:

- `builtinSwcLoader`: SWC loader tích hợp trong Rspack, được sử dụng để xử lý tệp TypeScript/JavaScript
- `lightningcssLoader`: lightningcss loader tích hợp trong Rspack, được sử dụng để xử lý tệp CSS với trình biên dịch hiệu suất cao
- `styleLoader`: Loader được sử dụng để chèn CSS vào DOM
- `cssLoader`: Loader được sử dụng để phân tích tệp CSS và xử lý mô-đun hóa CSS
- `lessLoader`: Loader được sử dụng để biên dịch tệp Less thành CSS
- `styleResourcesLoader`: Loader được sử dụng để tự động nhập tài nguyên kiểu toàn cục (như biến, mixins)
- `workerRspackLoader`: Loader được sử dụng để xử lý tệp Web Worker

Sử dụng các hằng số này để tham chiếu các loader tích hợp trong cấu hình, tránh nhập chuỗi thủ công:

```ts title="src/entry.node.ts"
import { RSPACK_LOADER } from '@gez/rspack';

export default {
  async devApp(gez) {
    return import('@gez/rspack').then((m) =>
      m.createRspackHtmlApp(gez, {
        loaders: {
          // Sử dụng hằng số để tham chiếu loader
          styleLoader: RSPACK_LOADER.styleLoader,
          cssLoader: RSPACK_LOADER.cssLoader,
          lightningcssLoader: RSPACK_LOADER.lightningcssLoader
        }
      })
    );
  }
};
```

**Lưu ý:**
- Các loader này đã được tích hợp sẵn trong Rspack, không cần cài đặt thêm
- Khi cấu hình loader tùy chỉnh, có thể sử dụng các hằng số này để thay thế triển khai loader mặc định
- Một số loader (như `builtinSwcLoader`) có các tùy chọn cấu hình cụ thể, vui lòng tham khảo tài liệu cấu hình tương ứng

## Xuất mô-đun

### rspack

Xuất lại tất cả nội dung của gói `@rspack/core`, cung cấp đầy đủ chức năng cốt lõi của Rspack.