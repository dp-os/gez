---
titleSuffix: Gez फ्रेमवर्क सेवा-अंतर कोड शेयरिंग मैकेनिज्म
description: Gez फ्रेमवर्क के मॉड्यूल लिंकिंग मैकेनिज्म का विस्तृत विवरण, जिसमें सेवा-अंतर कोड शेयरिंग, डिपेंडेंसी मैनेजमेंट और ESM स्पेसिफिकेशन का कार्यान्वयन शामिल है, जो डेवलपर्स को हाई-परफॉर्मेंस माइक्रो-फ्रंटेंड एप्लिकेशन बनाने में मदद करता है।
head:
  - - meta
    - property: keywords
      content: Gez, मॉड्यूल लिंकिंग, Module Link, ESM, कोड शेयरिंग, डिपेंडेंसी मैनेजमेंट, माइक्रो-फ्रंटेंड
---

# मॉड्यूल लिंकिंग

Gez फ्रेमवर्क सेवा-अंतर कोड शेयरिंग और डिपेंडेंसी मैनेजमेंट के लिए एक संपूर्ण मॉड्यूल लिंकिंग मैकेनिज्म प्रदान करता है। यह मैकेनिज्म ESM (ECMAScript Module) स्पेसिफिकेशन पर आधारित है, जो सोर्स कोड लेवल पर मॉड्यूल एक्सपोर्ट और इम्पोर्ट, साथ ही पूर्ण डिपेंडेंसी मैनेजमेंट फंक्शनलिटी को सपोर्ट करता है।

### मुख्य अवधारणाएं

#### मॉड्यूल एक्सपोर्ट
मॉड्यूल एक्सपोर्ट सेवा में विशिष्ट कोड यूनिट (जैसे कंपोनेंट्स, यूटिलिटी फंक्शन्स आदि) को ESM फॉर्मेट में एक्सपोज करने की प्रक्रिया है। यह दो प्रकार के एक्सपोर्ट को सपोर्ट करता है:
- **सोर्स कोड एक्सपोर्ट**: प्रोजेक्ट में सोर्स कोड फाइल्स को सीधे एक्सपोर्ट करना
- **डिपेंडेंसी एक्सपोर्ट**: प्रोजेक्ट में उपयोग किए जाने वाले थर्ड-पार्टी डिपेंडेंसी पैकेज को एक्सपोर्ट करना

#### मॉड्यूल इम्पोर्ट
मॉड्यूल इम्पोर्ट सेवा में अन्य सेवाओं द्वारा एक्सपोर्ट किए गए कोड यूनिट को रेफरेंस करने की प्रक्रिया है। यह कई इंस्टॉलेशन मोड को सपोर्ट करता है:
- **सोर्स कोड इंस्टॉलेशन**: डेवलपमेंट एनवायरनमेंट के लिए उपयुक्त, रियल-टाइम मॉडिफिकेशन और हॉट रीलोडिंग को सपोर्ट करता है
- **पैकेज इंस्टॉलेशन**: प्रोडक्शन एनवायरनमेंट के लिए उपयुक्त, बिल्ड आर्टिफैक्ट्स का सीधे उपयोग करता है

### प्रीलोडिंग मैकेनिज्म

सेवा परफॉर्मेंस को ऑप्टिमाइज़ करने के लिए, Gez ने इंटेलिजेंट मॉड्यूल प्रीलोडिंग मैकेनिज्म लागू किया है:

1. **डिपेंडेंसी एनालिसिस**
   - बिल्ड टाइम पर कंपोनेंट्स के बीच डिपेंडेंसी रिलेशनशिप का एनालिसिस
   - क्रिटिकल पाथ पर कोर मॉड्यूल की पहचान
   - मॉड्यूल लोडिंग प्रायोरिटी का निर्धारण

2. **लोडिंग स्ट्रैटेजी**
   - **इमीडिएट लोडिंग**: क्रिटिकल पाथ पर कोर मॉड्यूल
   - **लेज़ी लोडिंग**: नॉन-क्रिटिकल फंक्शनलिटी मॉड्यूल
   - **ऑन-डिमांड लोडिंग**: कंडीशनल रेंडरिंग वाले मॉड्यूल

3. **रिसोर्स ऑप्टिमाइज़ेशन**
   - इंटेलिजेंट कोड स्प्लिटिंग स्ट्रैटेजी
   - मॉड्यूल-लेवल कैश मैनेजमेंट
   - ऑन-डिमांड कंपाइलेशन और बंडलिंग

## मॉड्यूल एक्सपोर्ट

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में एक्सपोर्ट किए जाने वाले मॉड्यूल को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { GezOptions } from '@gez/core';

export default {
    modules: {
        exports: [
            // सोर्स कोड फाइल्स एक्सपोर्ट करें
            'root:src/components/button.vue',  // Vue कंपोनेंट
            'root:src/utils/format.ts',        // यूटिलिटी फंक्शन
            // थर्ड-पार्टी डिपेंडेंसी एक्सपोर्ट करें
            'npm:vue',                         // Vue फ्रेमवर्क
            'npm:vue-router'                   // Vue Router
        ]
    }
} satisfies GezOptions;
```

एक्सपोर्ट कॉन्फ़िगरेशन दो प्रकार को सपोर्ट करता है:
- `root:*`: सोर्स कोड फाइल्स एक्सपोर्ट करें, पाथ प्रोजेक्ट रूट के सापेक्ष
- `npm:*`: थर्ड-पार्टी डिपेंडेंसी एक्सपोर्ट करें, सीधे पैकेज नाम निर्दिष्ट करें

## मॉड्यूल इम्पोर्ट

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में इम्पोर्ट किए जाने वाले मॉड्यूल को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { GezOptions } from '@gez/core';

export default {
    modules: {
        // इम्पोर्ट कॉन्फ़िगरेशन
        imports: {
            // सोर्स कोड इंस्टॉलेशन: बिल्ड आर्टिफैक्ट डायरेक्टरी को पॉइंट करें
            'ssr-remote': 'root:./node_modules/ssr-remote/dist',
            // पैकेज इंस्टॉलेशन: पैकेज डायरेक्टरी को पॉइंट करें
            'other-remote': 'root:./node_modules/other-remote'
        },
        // एक्सटर्नल डिपेंडेंसी कॉन्फ़िगरेशन
        externals: {
            // रिमोट मॉड्यूल में डिपेंडेंसी का उपयोग करें
            'vue': 'ssr-remote/npm/vue',
            'vue-router': 'ssr-remote/npm/vue-router'
        }
    }
} satisfies GezOptions;
```

कॉन्फ़िगरेशन आइटम्स विवरण:
1. **imports**: रिमोट मॉड्यूल के लोकल पाथ को कॉन्फ़िगर करें
   - सोर्स कोड इंस्टॉलेशन: बिल्ड आर्टिफैक्ट डायरेक्टरी (dist) को पॉइंट करें
   - पैकेज इंस्टॉलेशन: सीधे पैकेज डायरेक्टरी को पॉइंट करें

2. **externals**: एक्सटर्नल डिपेंडेंसी कॉन्फ़िगर करें
   - रिमोट मॉड्यूल में डिपेंडेंसी शेयर करने के लिए उपयोग किया जाता है
   - समान डिपेंडेंसी के डुप्लीकेट बंडलिंग से बचें
   - मल्टीपल मॉड्यूल में डिपेंडेंसी शेयर करने को सपोर्ट करता है

### इंस्टॉलेशन मोड

#### सोर्स कोड इंस्टॉलेशन
डेवलपमेंट एनवायरनमेंट के लिए उपयुक्त, रियल-टाइम मॉडिफिकेशन और हॉट रीलोडिंग को सपोर्ट करता है।

1. **वर्कस्पेस मोड**
Monorepo प्रोजेक्ट में उपयोग के लिए अनुशंसित:
```ts title="package.json"
{
    "devDependencies": {
        "ssr-remote": "workspace:*"
    }
}
```

2. **लिंक मोड**
लोकल डेवलपमेंट और डिबगिंग के लिए उपयोग किया जाता है:
```ts title="package.json"
{
    "devDependencies": {
        "ssr-remote": "link:../ssr-remote"
    }
}
```

#### पैकेज इंस्टॉलेशन
प्रोडक्शन एनवायरनमेंट के लिए उपयुक्त, बिल्ड आर्टिफैक्ट्स का सीधे उपयोग करता है।

1. **NPM रजिस्ट्री**
npm रजिस्ट्री के माध्यम से इंस्टॉल करें:
```ts title="package.json"
{
    "dependencies": {
        "ssr-remote": "^1.0.0"
    }
}
```

2. **स्टैटिक सर्वर**
HTTP/HTTPS प्रोटोकॉल के माध्यम से इंस्टॉल करें:
```ts title="package.json"
{
    "dependencies": {
        "ssr-remote": "https://cdn.example.com/ssr-remote/1.0.0.tgz"
    }
}
```

## पैकेज बिल्डिंग

### कॉन्फ़िगरेशन विवरण

`entry.node.ts` में बिल्ड ऑप्शन्स को कॉन्फ़िगर करें:

```ts title="src/entry.node.ts"
import type { GezOptions } from '@gez/core';

export default {
    // मॉड्यूल एक्सपोर्ट कॉन्फ़िगरेशन
    modules: {
        exports: [
            'root:src/components/button.vue',
            'root:src/utils/format.ts',
            'npm:vue'
        ]
    },
    // बिल्ड कॉन्फ़िगरेशन
    pack: {
        // बिल्ड सक्षम करें
        enable: true,

        // आउटपुट कॉन्फ़िगरेशन
        outputs: [
            'dist/client/versions/latest.tgz',
            'dist/client/versions/1.0.0.tgz'
        ],

        // कस्टम package.json
        packageJson: async (gez, pkg) => {
            pkg.version = '1.0.0';
            return pkg;
        },

        // बिल्ड पूर्व प्रोसेसिंग
        onBefore: async (gez, pkg) => {
            // टाइप डिक्लेरेशन जेनरेट करें
            // टेस्ट केस चलाएं
            // डॉक्यूमेंटेशन अपडेट करें आदि
        },

        // बिल्ड पोस्ट प्रोसेसिंग
        onAfter: async (gez, pkg, file) => {
            // CDN पर अपलोड करें
            // npm रजिस्ट्री पर पब्लिश करें
            // टेस्ट एनवायरनमेंट पर डिप्लॉय करें आदि
        }
    }
} satisfies GezOptions;
```

### बिल्ड आर्टिफैक्ट्स

```
your-app-name.tgz
├── package.json        # पैकेज जानकारी
├── index.js            # प्रोडक्शन एनवायरनमेंट एंट्री
├── server/             # सर्वर-साइड रिसोर्सेज
│   └── manifest.json   # सर्वर-साइड रिसोर्स मैपिंग
├── node/               # Node.js रनटाइम
└── client/             # क्लाइंट-साइड रिसोर्सेज
    └── manifest.json   # क्लाइंट-साइड रिसोर्स मैपिंग
```

### पब्लिश प्रोसेस

```bash
# 1. प्रोडक्शन वर्जन बिल्ड करें
gez build

# 2. npm पर पब्लिश करें
npm publish dist/versions/your-app-name.tgz
```

## बेस्ट प्रैक्टिसेज

### डेवलपमेंट एनवायरनमेंट कॉन्फ़िगरेशन
- **डिपेंडेंसी मैनेजमेंट**
  - डिपेंडेंसी इंस्टॉल करने के लिए वर्कस्पेस या लिंक मोड का उपयोग करें
  - डिपेंडेंसी वर्जन को यूनिफाइड मैनेज करें
  - समान डिपेंडेंसी के डुप्लीकेट इंस्टॉलेशन से बचें

- **डेवलपमेंट एक्सपीरियंस**
  - हॉट रीलोडिंग फीचर को सक्षम करें
  - उपयुक्त प्रीलोडिंग स्ट्रैटेजी कॉन्फ़िगर करें
  - बिल्ड स्पीड को ऑप्टिमाइज़ करें

### प्रोडक्शन एनवायरनमेंट कॉन्फ़िगरेशन
- **डिप्लॉयमेंट स्ट्रैटेजी**
  - NPM रजिस्ट्री या स्टैटिक सर्वर का उपयोग करें
  - बिल्ड आर्टिफैक्ट्स की इंटीग्रिटी सुनिश्चित करें
  - ग्रे रिलीज़ मैकेनिज्म लागू करें

- **परफॉर्मेंस ऑप्टिमाइज़ेशन**
  - रिसोर्स प्रीलोडिंग को उचित रूप से कॉन्फ़िगर करें
  - मॉड्यूल लोडिंग ऑर्डर को ऑप्टिमाइज़ करें
  - प्रभावी कैशिंग स्ट्रैटेजी लागू करें

### वर्जन मैनेजमेंट
- **वर्जनिंग स्टैंडर्ड**
  - सेमेंटिक वर्जनिंग स्टैंडर्ड का पालन करें
  - विस्तृत चेंजलॉग बनाए रखें
  - वर्जन कंपैटिबिलिटी टेस्टिंग करें

- **डिपेंडेंसी अपडेट**
  - डिपेंडेंसी पैकेज को समय पर अपडेट करें
  - नियमित सुरक्षा