---
titleSuffix: Руководство по сопоставлению путей импорта модулей в Gez
description: Подробное описание механизма псевдонимов путей в Gez, включая упрощение путей импорта, избегание глубокой вложенности, безопасность типов и оптимизацию разрешения модулей, чтобы помочь разработчикам повысить поддерживаемость кода.
head:
  - - meta
    - property: keywords
      content: Gez, псевдонимы путей, Path Alias, TypeScript, импорт модулей, сопоставление путей, поддерживаемость кода
---

# Псевдонимы путей

Псевдонимы путей (Path Alias) — это механизм сопоставления путей импорта модулей, который позволяет разработчикам использовать короткие, семантические идентификаторы вместо полных путей модулей. В Gez механизм псевдонимов путей имеет следующие преимущества:

- **Упрощение путей импорта**: Использование семантических псевдонимов вместо длинных относительных путей, что повышает читаемость кода.
- **Избегание глубокой вложенности**: Устранение сложностей, связанных с многоуровневыми ссылками на каталоги (например, `../../../../`).
- **Безопасность типов**: Полная интеграция с системой типов TypeScript, обеспечивающая автодополнение и проверку типов.
- **Оптимизация разрешения модулей**: Ускорение разрешения модулей за счет предопределенного сопоставления путей.

## Механизм псевдонимов по умолчанию

Gez использует автоматический механизм псевдонимов на основе имени сервиса (Service Name), что обеспечивает следующие особенности:

- **Автоматическая настройка**: Псевдонимы генерируются автоматически на основе поля `name` в `package.json`, без необходимости ручной настройки.
- **Единый стандарт**: Обеспечивает единообразие в именовании и ссылках на модули всех сервисов.
- **Поддержка типов**: В сочетании с командой `npm run build:dts` автоматически генерируются файлы объявлений типов, что позволяет осуществлять вывод типов между сервисами.
- **Предсказуемость**: Путь модуля можно определить по имени сервиса, что снижает затраты на поддержку.

## Настройка

### Настройка в package.json

В `package.json` имя сервиса определяется через поле `name`, которое будет использоваться как префикс псевдонима по умолчанию:

```json title="package.json"
{
    "name": "your-app-name"
}
```

### Настройка в tsconfig.json

Для того чтобы TypeScript мог корректно разрешать пути с псевдонимами, необходимо настроить сопоставление `paths` в `tsconfig.json`:

```json title="tsconfig.json"
{
    "compilerOptions": {
        "paths": {
            "your-app-name/src/*": [
                "./src/*"
            ],
            "your-app-name/*": [
                "./*"
            ]
        }
    }
}
```

## Примеры использования

### Импорт внутренних модулей сервиса

```ts
// Использование псевдонима
import { MyComponent } from 'your-app-name/src/components';

// Эквивалентный импорт с относительным путем
import { MyComponent } from '../components';
```

### Импорт модулей других сервисов

```ts
// Импорт компонентов другого сервиса
import { SharedComponent } from 'other-service/src/components';

// Импорт утилит другого сервиса
import { utils } from 'other-service/src/utils';
```

::: tip Лучшие практики
- Предпочитайте использование путей с псевдонимами вместо относительных путей.
- Поддерживайте семантику и единообразие путей с псевдонимами.
- Избегайте использования слишком большого количества уровней вложенности в путях с псевдонимами.

:::

``` ts
// Импорт компонентов
import { Button } from 'your-app-name/src/components';
import { Layout } from 'your-app-name/src/components/layout';

// Импорт утилит
import { formatDate } from 'your-app-name/src/utils';
import { request } from 'your-app-name/src/utils/request';

// Импорт типов
import type { UserInfo } from 'your-app-name/src/types';
```

### Импорт между сервисами

После настройки связей модулей (Module Link) можно использовать тот же способ для импорта модулей других сервисов:

```ts
// Импорт компонентов удаленного сервиса
import { Header } from 'remote-service/src/components';

// Импорт утилит удаленного сервиса
import { logger } from 'remote-service/src/utils';
```

### Пользовательские псевдонимы

Для сторонних пакетов или специальных сценариев можно настроить пользовательские псевдонимы через конфигурационный файл Gez:

```ts title="src/entry.node.ts"
export default {
    async devApp(gez) {
        return import('@gez/rspack').then((m) =>
            m.createApp(gez, (buildContext) => {
                buildContext.config.resolve = {
                    ...buildContext.config.resolve,
                    alias: {
                        ...buildContext.config.resolve?.alias,
                        // Настройка специфической версии сборки для Vue
                        'vue$': 'vue/dist/vue.esm.js',
                        // Настройка коротких псевдонимов для часто используемых каталогов
                        '@': './src',
                        '@components': './src/components'
                    }
                }
            })
        );
    }
} satisfies GezOptions;
```

::: warning Важные замечания
1. Для бизнес-модулей рекомендуется всегда использовать механизм псевдонимов по умолчанию, чтобы поддерживать единообразие проекта.
2. Пользовательские псевдонимы в основном используются для обработки специальных требований сторонних пакетов или оптимизации процесса разработки.
3. Чрезмерное использование пользовательских псевдонимов может негативно сказаться на поддерживаемости кода и оптимизации сборки.

:::