---
titleSuffix: Руководство по реализации клиентского рендеринга в Gez
description: Подробное описание механизма клиентского рендеринга в Gez, включая статическую сборку, стратегии развертывания и лучшие практики, чтобы помочь разработчикам реализовать эффективный фронтенд-рендеринг в бессерверной среде.
head:
  - - meta
    - property: keywords
      content: Gez, клиентский рендеринг, CSR, статическая сборка, фронтенд-рендеринг, бессерверное развертывание, оптимизация производительности
---

# Клиентский рендеринг

Клиентский рендеринг (Client-Side Rendering, CSR) — это технология выполнения рендеринга страниц на стороне браузера. В Gez, если ваше приложение не может быть развернуто на сервере Node.js, вы можете сгенерировать статический файл `index.html` на этапе сборки для реализации чистого клиентского рендеринга.

## Сценарии использования

Клиентский рендеринг рекомендуется в следующих сценариях:

- **Статические хостинговые среды**: такие как GitHub Pages, CDN и другие хостинговые сервисы, не поддерживающие серверный рендеринг.
- **Простые приложения**: небольшие приложения, где не критичны скорость загрузки первой страницы и SEO.
- **Среда разработки**: для быстрого просмотра и отладки приложения на этапе разработки.

## Настройка

### Конфигурация HTML-шаблона

В режиме клиентского рендеринга необходимо настроить универсальный HTML-шаблон. Этот шаблон будет служить контейнером для приложения, содержать необходимые ссылки на ресурсы и точку монтирования.

```ts title="src/entry.server.ts"
import type { RenderContext } from '@gez/core';

export default async (rc: RenderContext) => {
    // Фиксация сбора зависимостей
    await rc.commit();
    
    // Настройка HTML-шаблона
    rc.html = `
<!DOCTYPE html>
<html>
<head>
    ${rc.preload()}           // Предзагрузка ресурсов
    <title>Gez</title>
    ${rc.css()}               // Внедрение стилей
</head>
<body>
    <div id="app"></div>
    ${rc.importmap()}         // Карта импорта
    ${rc.moduleEntry()}       // Входной модуль
    ${rc.modulePreload()}     // Предзагрузка модулей
</body>
</html>
`;
};
```

### Генерация статического HTML

Для использования клиентского рендеринга в производственной среде необходимо сгенерировать статический HTML-файл на этапе сборки. Gez предоставляет функцию `postBuild` для реализации этой функциональности:

```ts title="src/entry.node.ts"
import type { GezOptions } from '@gez/core';

export default {
    async postBuild(gez) {
        // Генерация статического HTML-файла
        const rc = await gez.render();
        // Запись HTML-файла
        gez.writeSync(
            gez.resolvePath('dist/client', 'index.html'),
            rc.html
        );
    }
} satisfies GezOptions;
```