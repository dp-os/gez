---
titleSuffix: Руководство по настройке путей к статическим ресурсам в Gez
description: Подробное руководство по настройке базового пути в Gez, включая развертывание в нескольких средах, CDN-распределение и настройку путей доступа к ресурсам, чтобы помочь разработчикам реализовать гибкое управление статическими ресурсами.
head:
  - - meta
    - property: keywords
      content: Gez, базовый путь, Base Path, CDN, статические ресурсы, развертывание в нескольких средах, управление ресурсами
---

# Базовый путь

Базовый путь (Base Path) — это префикс пути доступа к статическим ресурсам (таким как JavaScript, CSS, изображения и т.д.) в приложении. В Gez правильная настройка базового пути имеет решающее значение для следующих сценариев:

- **Развертывание в нескольких средах**: поддержка доступа к ресурсам в различных средах, таких как разработка, тестирование и производство.
- **Развертывание в нескольких регионах**: адаптация к требованиям кластерного развертывания в разных регионах или странах.
- **CDN-распределение**: реализация глобального распределения и ускорения статических ресурсов.

## Механизм пути по умолчанию

Gez использует автоматический механизм генерации путей на основе имени сервиса. По умолчанию фреймворк считывает поле `name` из файла `package.json` проекта для создания базового пути к статическим ресурсам: `/your-app-name/`.

```json title="package.json"
{
    "name": "your-app-name"
}
```

Такой подход, основанный на соглашениях, имеет следующие преимущества:

- **Согласованность**: обеспечивает использование единого пути доступа для всех статических ресурсов.
- **Предсказуемость**: путь доступа к ресурсам можно определить по полю `name` в `package.json`.
- **Удобство поддержки**: отсутствие необходимости в дополнительной настройке снижает затраты на обслуживание.

## Динамическая настройка пути

В реальных проектах часто требуется развернуть один и тот же код в разных средах или регионах. Gez поддерживает динамическую настройку базового пути, что позволяет приложению адаптироваться к различным сценариям развертывания.

### Сценарии использования

#### Развертывание в подкаталоге
```
- example.com      -> основной сайт по умолчанию
- example.com/cn/  -> китайский сайт
- example.com/en/  -> английский сайт
```

#### Развертывание на отдельных доменах
```
- example.com    -> основной сайт по умолчанию
- cn.example.com -> китайский сайт
- en.example.com -> английский сайт
```

### Метод настройки

С помощью параметра `base` метода `gez.render()` вы можете динамически установить базовый путь в зависимости от контекста запроса:

```ts
const render = await gez.render({
    base: '/cn',  // Установка базового пути
    params: {
        url: req.url
    }
});
```