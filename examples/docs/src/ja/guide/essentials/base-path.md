---
titleSuffix: Gez フレームワーク静的リソースパス設定ガイド
description: Gez フレームワークのベースパス設定について詳しく説明します。マルチ環境デプロイ、CDN配信、リソースアクセスパス設定などを含め、開発者が柔軟な静的リソース管理を実現するための手助けをします。
head:
  - - meta
    - property: keywords
      content: Gez, ベースパス, Base Path, CDN, 静的リソース, マルチ環境デプロイ, リソース管理
---

# ベースパス

ベースパス（Base Path）とは、アプリケーション内の静的リソース（JavaScript、CSS、画像など）のアクセスパスのプレフィックスです。Gez では、以下のシナリオにおいてベースパスの適切な設定が重要です：

- **マルチ環境デプロイ**：開発環境、テスト環境、本番環境など、異なる環境でのリソースアクセスをサポート
- **マルチリージョンデプロイ**：異なる地域や国のクラスターデプロイに対応
- **CDN配信**：静的リソースのグローバル配信と高速化を実現

## デフォルトパスメカニズム

Gez は、サービス名に基づいた自動パス生成メカニズムを採用しています。デフォルトでは、フレームワークはプロジェクトの `package.json` 内の `name` フィールドを読み取り、静的リソースのベースパスを生成します：`/your-app-name/`。

```json title="package.json"
{
    "name": "your-app-name"
}
```

この設定より優れた設計には以下の利点があります：

- **一貫性**：すべての静的リソースが統一されたアクセスパスを使用することを保証
- **予測可能性**：`package.json` の `name` フィールドからリソースのアクセスパスを推測可能
- **保守性**：追加の設定が不要で、保守コストを低減

## 動的パス設定

実際のプロジェクトでは、同じコードを異なる環境や地域にデプロイする必要が頻繁にあります。Gez は動的ベースパスのサポートを提供しており、アプリケーションが異なるデプロイシナリオに適応できるようにします。

### 使用シナリオ

#### サブディレクトリデプロイ
```
- example.com      -> デフォルトメインサイト
- example.com/cn/  -> 中国語サイト
- example.com/en/  -> 英語サイト
```

#### 独立ドメインデプロイ
```
- example.com    -> デフォルトメインサイト
- cn.example.com -> 中国語サイト
- en.example.com -> 英語サイト
```

### 設定方法

`gez.render()` メソッドの `base` パラメータを使用して、リクエストコンテキストに基づいてベースパスを動的に設定できます：

```ts
const render = await gez.render({
    base: '/cn',  // ベースパスを設定
    params: {
        url: req.url
    }
});
```