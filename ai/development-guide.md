# Gez 框架开发规范

## 目录
1. [代码风格](#代码风格)
2. [命名约定](#命名约定)
3. [文件组织](#文件组织)
4. [注释规范](#注释规范)
5. [TypeScript 使用规范](#typescript-使用规范)
6. [测试规范](#测试规范)

## 代码风格

### 格式化
- 使用项目配置的 Biome 进行代码格式化
- 保持一致的缩进（4个空格）
- 文件末尾保留一个空行
- 避免过长的代码行，建议不超过 100 字符

### 代码组织
- 相关的功能应该组织在同一个模块中
- 保持函数的单一职责
- 避免过深的嵌套（建议不超过3层）

## 命名约定

### 文件命名
- 使用 kebab-case 命名文件：`my-component.ts`
- 类文件使用 PascalCase：`MyClass.ts`
- 测试文件以 `.test.ts` 或 `.spec.ts` 结尾

### 变量命名
- 使用有意义的描述性名称
- 常量使用大写下划线：`MAX_COUNT`
- 布尔变量使用 is/has/should 前缀：`isValid`
- 私有属性使用下划线前缀：`_privateVar`

### 函数命名
- 使用动词开头：`getData()`, `setConfig()`
- 异步函数使用 async 后缀：`fetchDataAsync()`
- 事件处理函数使用 handle 前缀：`handleClick()`

## 文件组织

### 文件命名规范
- 文件名使用短杠（-）作为单词分隔符：`module-link.md`、`render-context.ts`
- 保持文件命名的一致性和可读性
- 避免使用空格和特殊字符

### 目录结构
```
src/
  ├── components/     # 组件
  ├── utils/          # 工具函数
  ├── types/          # 类型定义
  ├── constants/      # 常量
  └── services/       # 服务
```

### 导入顺序
1. 外部依赖
2. 内部模块
3. 类型导入
4. 样式文件

## 注释规范

### 文件注释
```ts
/**
 * @file 文件描述
 * @author 作者
 * @description 详细描述
 */
```

### 函数注释
```ts
/**
 * 函数描述
 * @param {string} param1 - 参数1描述
 * @param {number} param2 - 参数2描述
 * @returns {Promise<void>} 返回值描述
 */
```

### 代码注释
- 复杂逻辑需要添加必要的注释说明
- 避免无意义的注释
- 及时更新或删除过时的注释

## TypeScript 使用规范

### 类型定义
- 优先使用接口（interface）而不是类型别名（type）
- 为所有的函数参数和返回值定义类型
- 避免使用 any，优先使用 unknown

### 泛型
- 使用有意义的泛型名称：`T`、`K`、`V`
- 适当使用泛型约束

### 空值处理
- 明确处理 null 和 undefined
- 使用可选链操作符 `?.` 和空值合并操作符 `??`

## 测试规范

### 测试文件组织
- 测试文件与源文件保持相同的目录结构
- 每个测试用例应该是独立的
- 使用有意义的测试描述

### 测试覆盖率
- 核心功能需要有单元测试
- 关键路径需要有集成测试
- 保持合理的测试覆盖率

### 测试用例编写
- 遵循 AAA 模式：Arrange（准备）、Act（执行）、Assert（断言）
- 测试边界条件和异常情况
- 避免测试实现细节，关注行为

## 文案规范

### 专业性要求

#### 技术术语使用
- 使用规范的技术术语，避免使用口语化表达
- 保持术语的一致性，同一概念使用相同的术语
- 首次出现的专业术语应提供简要解释
- 英文术语使用原文，不需要强制翻译

#### 准确性要求
- 技术描述必须准确无误，避免模糊表述
- 版本号、配置项等信息需要与实际代码保持同步
- 示例代码必须经过验证，确保可以正常运行
- API 文档需要包含完整的参数说明和返回值类型

### 严谨性要求

#### 文档结构
- 采用清晰的层级结构，使用规范的 Markdown 标记
- 每个主题必须包含概述、正文和总结
- 相关内容应该合理分组，避免主题跨度过大
- 保持文档结构的一致性，便于读者理解和导航

#### 逻辑性
- 内容组织应符合逻辑顺序，从基础到进阶
- 确保各部分内容之间的连贯性
- 避免循环引用或自相矛盾的说明
- 合理使用过渡语句，增强文档流畅性

#### 完整性
- 确保文档覆盖所有必要的信息点
- 包含必要的背景信息和上下文说明
- 提供完整的错误处理和故障排除指南
- 及时更新过时的内容，删除无效信息

### 易读性要求

#### 语言表达
- 使用简洁明了的语言，避免冗长句式
- 保持语气的专业性和客观性
- 适当使用标点符号，增强可读性
- 避免使用不必要的修饰词

#### 示例说明
- 提供典型的使用场景和实际案例
- 示例代码应该简单且具有代表性
- 包含必要的注释和说明
- 对复杂概念使用图表辅助说明

#### 格式规范
- 正确使用 Markdown 语法元素
- 保持统一的字体和段落格式
- 适当使用空行和缩进增强可读性
- 重要信息使用醒目的格式标记

#### 用户体验
- 提供清晰的导航和索引
- 使用适当的章节标题和小标题
- 重要信息和警告使用醒目的提示框
- 提供必要的参考链接和相关资源



### 安全性

> :warning: **安全注意事项**

- 所有用户输入必须进行严格的数据验证和清洗
- 避免在日志或错误信息中泄露敏感信息
- 遵循 OWASP 安全最佳实践
- 定期进行安全审计和漏洞扫描
- 使用安全的依赖包版本

## 版本控制

### Git 提交规范
- 使用语义化的提交信息
- 每个提交只做一件事
- 保持提交历史的清晰

### 分支管理
- 遵循 Git Flow 或类似的分支策略
- 及时合并和删除临时分支
- 保护主分支

## 文档维护

### API 文档
- 及时更新 API 文档
- 提供清晰的使用示例
- 标注废弃的 API

### 更新日志

> :memo: **版本记录规范**

- 使用 CHANGELOG.md 记录所有重要更改
- 严格遵循语义化版本（SemVer）规范
- 明确标注所有破坏性更改（Breaking Changes）
- 按版本号降序排列更新记录
- 包含以下分类：
  - Added（新增功能）
  - Changed（功能变更）
  - Deprecated（即将废弃）
  - Removed（已经移除）
  - Fixed（问题修复）
  - Security（安全更新）

## 服务命名规范

为确保文档和示例的一致性，在涉及服务名称时应遵循以下规范：

### 命名约定

- 在所有示例和文档中，统一使用 `your-app-name` 作为服务名称的占位符
- 实际项目中应将其替换为符合 npm 包命名规范的有意义名称

### 使用场景

1. package.json 配置：
```json
{
  "name": "your-app-name"
}
```

### 注意事项

- 实际项目中的服务名称应具有描述性和唯一性
- 名称应遵循小写字母、数字和连字符的组合
- 避免使用特殊字符和空格
- 确保名称在部署环境中的唯一性
