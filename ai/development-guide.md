# Gez 框架开发规范

## 目录
1. [代码风格](#代码风格)
2. [命名约定](#命名约定)
3. [文件组织](#文件组织)
4. [注释规范](#注释规范)
5. [TypeScript 使用规范](#typescript-使用规范)
6. [测试规范](#测试规范)

## 代码风格

### 格式化
- 使用项目配置的 Biome 进行代码格式化
- 保持一致的缩进（4个空格）
- 文件末尾保留一个空行
- 避免过长的代码行，建议不超过 100 字符

### 代码组织
- 相关的功能应该组织在同一个模块中
- 保持函数的单一职责
- 避免过深的嵌套（建议不超过3层）

## 命名约定

### 文件命名
- 使用 kebab-case 命名文件：`my-component.ts`
- 类文件使用 PascalCase：`MyClass.ts`
- 测试文件以 `.test.ts` 或 `.spec.ts` 结尾

### 变量命名
- 使用有意义的描述性名称
- 常量使用大写下划线：`MAX_COUNT`
- 布尔变量使用 is/has/should 前缀：`isValid`
- 私有属性使用下划线前缀：`_privateVar`

### 函数命名
- 使用动词开头：`getData()`, `setConfig()`
- 异步函数使用 async 后缀：`fetchDataAsync()`
- 事件处理函数使用 handle 前缀：`handleClick()`

## 文件组织

### 目录结构
```
src/
  ├── components/     # 组件
  ├── utils/          # 工具函数
  ├── types/          # 类型定义
  ├── constants/      # 常量
  └── services/       # 服务
```

### 导入顺序
1. 外部依赖
2. 内部模块
3. 类型导入
4. 样式文件

## 注释规范

### 文件注释
```typescript
/**
 * @file 文件描述
 * @author 作者
 * @description 详细描述
 */
```

### 函数注释
```typescript
/**
 * 函数描述
 * @param {string} param1 - 参数1描述
 * @param {number} param2 - 参数2描述
 * @returns {Promise<void>} 返回值描述
 */
```

### 代码注释
- 复杂逻辑需要添加必要的注释说明
- 避免无意义的注释
- 及时更新或删除过时的注释

## TypeScript 使用规范

### 类型定义
- 优先使用接口（interface）而不是类型别名（type）
- 为所有的函数参数和返回值定义类型
- 避免使用 any，优先使用 unknown

### 泛型
- 使用有意义的泛型名称：`T`、`K`、`V`
- 适当使用泛型约束

### 空值处理
- 明确处理 null 和 undefined
- 使用可选链操作符 `?.` 和空值合并操作符 `??`

## 测试规范

### 测试文件组织
- 测试文件与源文件保持相同的目录结构
- 每个测试用例应该是独立的
- 使用有意义的测试描述

### 测试覆盖率
- 核心功能需要有单元测试
- 关键路径需要有集成测试
- 保持合理的测试覆盖率

### 测试用例编写
- 遵循 AAA 模式：Arrange（准备）、Act（执行）、Assert（断言）
- 测试边界条件和异常情况
- 避免测试实现细节，关注行为

## 最佳实践

### 性能优化
- 避免不必要的计算和渲染
- 合理使用缓存
- 及时清理不需要的资源

### 错误处理
- 统一的错误处理机制
- 合适的错误提示
- 错误日志记录

### 安全性
- 输入数据验证
- 避免敏感信息泄露
- 遵循安全最佳实践

## 版本控制

### Git 提交规范
- 使用语义化的提交信息
- 每个提交只做一件事
- 保持提交历史的清晰

### 分支管理
- 遵循 Git Flow 或类似的分支策略
- 及时合并和删除临时分支
- 保护主分支

## 文档维护

### API 文档
- 及时更新 API 文档
- 提供清晰的使用示例
- 标注废弃的 API

### 更新日志
- 记录重要的更改
- 遵循语义化版本规范
- 说明破坏性更改